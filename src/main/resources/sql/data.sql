INSERT INTO `user` (`u_id`, `u_email`, `u_pwd`, `u_email_status`, `u_avatar`, `u_desc`, `u_recently_landed_time`,
                    `u_display_name`, `u_role`, `status`)
VALUES (1, 'a@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, 'a@celess.cn_2.png', 'ç¦¾å‡ æµ·ä¸éœ€è¦è‡ªæˆ‘ä»‹ç»',
        '2020-07-02 11:30:38', 'ç¦¾å‡ æµ·', 'admin', 0),
       (3, 'zh56462271@qq.com', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user',
        0),
       (2, 'b@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 0),
       (4, 'c@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 1),
       (5, 'd@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 1),
       (6, 'e@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 2),
       (7, 'f@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 2),
       (8, 'g@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 0),
       (9, 'h@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 1),
       (10, 'i@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 2),
       (11, 'j@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 0),
       (12, 'k@celess.cn', '25f9e794323b453885f5181f1b624d0b', 1, NULL, NULL, '2020-05-16 13:21:35', NULL, 'user', 1);


-- å¯†ç 123456789
INSERT INTO `tag_category` (`t_id`, `t_name`, `is_category`, `is_delete`)
VALUES (1, 'éšç¬”', 1, 0),
       (2, 'åç«¯', 1, 0),
       (3, 'linux', 1, 0),
       (4, 'äºŒä¸‰', 1, 0),
       (5, 'å‰ç«¯', 1, 0),
       (6, 'ç”µå½±æ¨è', 1, 0),
       (7, 'åšå®¢', 0, 0),
       (8, 'sublime', 0, 0),
       (9, 'linux', 0, 0),
       (10, 'shiro', 0, 0),
       (11, 'vim', 0, 0),
       (12, 'SpringMvc', 0, 0),
       (13, 'spring', 0, 0),
       (14, 'javaMail', 0, 0),
       (15, 'ç«¯å£', 0, 0),
       (16, 'ã€‚', 0, 0),
       (17, 'angular', 0, 0),
       (18, 'cssæ ·å¼', 0, 0),
       (19, 'attribute', 0, 0),
       (20, 'property', 0, 0),
       (21, 'éšç¬”', 0, 0),
       (22, 'ç”µå½±', 0, 0),
       (23, 'nio', 0, 0),
       (24, 'netty', 0, 0),
       (25, 'ç³»ç»Ÿå˜é‡', 0, 0),
       (26, 'è„šæœ¬', 0, 0),
       (27, 'ç½‘è¯¾', 0, 0);


INSERT INTO `article` (`a_id`, `a_title`, `a_summary`, `a_md_content`, `a_url`, `a_author_id`, `a_is_original`,
                       `a_reading_number`, `a_like`, `a_dislike`, `a_category_id`, `a_publish_date`, `a_update_date`,
                       `a_is_open`, `is_delete`)
VALUES (3, 'å…³äºè¿™ä¸ªåšå®¢æˆ‘æœ‰è¯è¦è¯´',
        'å¾ˆé«˜å…´ è¿™ä¸ªåšå®¢èƒ½å’Œå¤§å®¶è§é¢ã€‚\nå¾ˆæ—©ä¹‹å‰å°±æœ‰æ¥è§¦ç½‘ç«™çš„å¼€å‘ï¼Œä¹Ÿä¸€ç›´æœ‰è¿™æ–¹é¢çš„å…´è¶£ï¼Œåæ¥æˆ‘ç”¨wordpressä¹Ÿæ­å»ºäº†è‡ªå·±çš„ç¬¬ä¸€ä¸ªåšå®¢ï¼Œä¹Ÿä¸€ç›´ä½¿ç”¨äº†æœ‰æ®µæ—¶é—´ï¼ŒæœŸé—´ä¹Ÿç”¨è¿‡åˆ«çš„å°ä¼—åšå®¢ç³»ç»Ÿï¼Œä½†æ˜¯æ€»æ„Ÿè§‰å°‘äº†ä»½ä¹è¶£ï¼Œäºæ˜¯å°±æœ‰äº†ä½ ç°åœ¨çœ‹åˆ°çš„è¿™ä¸ªåšå®¢\nåˆè¡·\n\næƒ³æ‹¥æœ‰ä¸€ä¸ªç½‘ç«™\nå¯¹å·²æœ‰çš„åšå®¢ç³»ç»Ÿä¸å¤ªæ»¡æ„\næƒ³å…»æˆå†™åšå®¢çš„ä¹ æƒ¯\n\n\n\nåç«¯\né«˜ä¸‰æ¯•ä¸šçš„æš‘å‡æˆ‘ç³»ç»Ÿçš„å­¦ä¹ äº†javaï¼Œäº†è§£åˆ°javaä¸»è¦æ“…é•¿äºwebå¼€å‘ï¼Œæˆ‘å…´å¥‹äº†ï¼Œäºæ˜¯æˆ‘æ¶è¡¥å‰ç«¯çš„çŸ¥è¯†ï¼Œä½†ä¹Ÿåªèƒ½å†™å†™ç®€å•çš„ç½‘é¡µ......',
        '# å¾ˆé«˜å…´ è¿™ä¸ªåšå®¢èƒ½å’Œå¤§å®¶è§é¢ã€‚\n\nå¾ˆæ—©ä¹‹å‰å°±æœ‰æ¥è§¦ç½‘ç«™çš„å¼€å‘ï¼Œä¹Ÿä¸€ç›´æœ‰è¿™æ–¹é¢çš„å…´è¶£ï¼Œåæ¥æˆ‘ç”¨wordpressä¹Ÿæ­å»ºäº†è‡ªå·±çš„ç¬¬ä¸€ä¸ªåšå®¢ï¼Œä¹Ÿä¸€ç›´ä½¿ç”¨äº†æœ‰æ®µæ—¶é—´ï¼ŒæœŸé—´ä¹Ÿç”¨è¿‡åˆ«çš„å°ä¼—åšå®¢ç³»ç»Ÿï¼Œä½†æ˜¯æ€»æ„Ÿè§‰å°‘äº†ä»½ä¹è¶£ï¼Œäºæ˜¯å°±æœ‰äº†ä½ ç°åœ¨çœ‹åˆ°çš„è¿™ä¸ªåšå®¢\n\n## åˆè¡·\n- æƒ³æ‹¥æœ‰ä¸€ä¸ªç½‘ç«™\n- å¯¹å·²æœ‰çš„åšå®¢ç³»ç»Ÿä¸å¤ªæ»¡æ„\n- æƒ³å…»æˆå†™åšå®¢çš„ä¹ æƒ¯\n\n## åç«¯\né«˜ä¸‰æ¯•ä¸šçš„æš‘å‡æˆ‘ç³»ç»Ÿçš„å­¦ä¹ äº†javaï¼Œäº†è§£åˆ°javaä¸»è¦æ“…é•¿äºwebå¼€å‘ï¼Œæˆ‘å…´å¥‹äº†ï¼Œäºæ˜¯æˆ‘æ¶è¡¥å‰ç«¯çš„çŸ¥è¯†ï¼Œä½†ä¹Ÿåªèƒ½å†™å†™ç®€å•çš„ç½‘é¡µï¼Œåæ¥æˆ‘åˆäº†è§£åˆ°Springå’ŒSpringbootï¼Œå¬é—»Springbootçš„æç®€åŒ–é…ç½®ï¼Œäºæ˜¯æˆ‘æœæ–­å…¥äº†Springbootï¼ŒæœŸé—´ä¸€éä¸€éå­¦ä¹ Springbootå’Œå„ä¸ªæ¡†æ¶ä¸€è¾¹ç¼–å†™æˆ‘çš„javaåšå®¢ã€‚æœ€ç»ˆç”¨äº†å°†è¿‘åŠä¸ªæœˆï¼Œå®Œæˆäº†javaåç«¯æ¥å£çš„ç¼–å†™ã€‚åæ¥å› ä¸ºä»£ç çš„ä¸è§„èŒƒé€‰æ‹©é‡æ„äº†ä¸€æ¬¡ï¼Œæœ€ç»ˆæˆå‹ã€‚\n\n## å‰ç«¯\nå‰ç«¯çš„å¼€å‘æ˜¯æ•´ä¸ªå¼€å‘è¿‡ç¨‹ä¸­æœ€ä¸ºç¹çå¤æ‚çš„ä¸€éƒ¨åˆ†ï¼Œä»æœ€å¼€å§‹çš„ä¸œæ‹¼è¥¿å‡‘åˆ°åæ¥ä½¿ç”¨amaze UIçš„å¼€å‘ï¼ŒæœŸé—´è¸©è¿‡ä¸å°‘å‘ï¼Œä¹Ÿæ›¾æ°”é¦éª‚å¨˜è¿‡ï¼Œä½†æœ€ç»ˆè¿˜æ˜¯å†³å®šç»§ç»­å†™ä¸‹å»ã€‚\nå‰ç«¯éƒ¨åˆ†ç›®å‰é‡‡ç”¨çš„angularå¼€å‘çš„\n\n## å‰åç«¯çš„äº¤äº’\nangularç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒçˆ½çš„ï¼Œä½†æ˜¯æ€ä¹ˆå’Œåç«¯äº¤äº’å€’æ˜¯ä¸ªé—®é¢˜ï¼Œç”±äºä¹‹å‰çš„é¡µé¢ç”±Springbootæ¥ç®¡ç†ï¼Œä¸éœ€è¦è€ƒè™‘è¿™äº›é—®é¢˜ï¼Œä½†æ˜¯ç”±äºAngularå¼€å‘çš„webç¨‹åºæ˜¯ä¸€ä¸ªå•é¡µé¢åº”ç”¨ï¼Œç›´æ¥åµŒå…¥Springbootä¼šæ— æ³•æ­£å¸¸ä½¿ç”¨ï¼Œäºæ˜¯æˆ‘å°†å‰åç«¯è¿›è¡Œäº†åˆ†ç¦»ï¼Œåç«¯Springbootç¨‹åºæ‰“åŒ…æˆjaråŒ…ï¼Œç”¨java -jaréƒ¨ç½²ï¼Œç„¶åç”±nginxè¿›è¡Œä»£ç†ï¼Œå‰ç«¯éƒ¨åˆ†éƒ¨ç½²åˆ°Nginxç«™ç‚¹ã€‚\n\n## ç§»åŠ¨ç«¯\nå…‰å†™ä¸€ä¸ªé¡µé¢ä¸å»é€‚é…ç§»åŠ¨ç«¯æ˜¯è‚¯å®šä¸å¤ªå¥½çš„ï¼Œäºæ˜¯æˆ‘ä¹Ÿè¿›è¡Œäº†ç®€å•çš„é€‚é…ï¼Œå¾ˆå¤šé¡µé¢ä¹Ÿä¸æ˜¯å¤ªç¾è§‚ï¼Œä»¥åä¹Ÿä¼šæ…¢æ…¢ä¿®æ”¹ã€‚æ…¢æ…¢æ¥ï¼Œå˜¿å˜¿å˜¿\n\n\n## å†™åœ¨æœ€å\nè¿™ä¸ªåšå®¢è¿˜æ˜¯èŠ±è´¹äº†æˆ‘ä¸å°‘çš„æ—¶é—´ï¼Œä½†æ˜¯ä»å†™è¿™ä¸ªåšå®¢æˆ‘ä¹Ÿå­¦ä¹ åˆ°äº†ä¸å°‘çš„çŸ¥è¯†ã€‚æ€»çš„æ¥è¯´è¿˜ç®—æ˜¯å¯ä»¥ï¼Œä»¥åä¹Ÿè¿˜ä¼šæ…¢æ…¢æ›´æ–°ï¼Œä¸æ–­çš„å®Œå–„ã€‚ä»£ç ä»¥åä¹Ÿä¼šå‘å¸ƒåˆ°githubï¼Œæ„Ÿå…´è¶£ä¹Ÿå¯ä»¥å…³æ³¨ä¸€ä¸‹ã€‚\n\n##### é¡¹ç›®åœ°å€\nåç»­çš„ä»£ç æäº¤å°†æäº¤è¿™ä¸¤ä¸ªä»“åº“[blog-backEnd](https://www.github.com/xiaohai2271/blog-backEnd "blog-backEnd")å’Œ[blog-frontEnd](https://www.github.com/xiaohai2271/blog-frontEnd "blog-frontEnd")ä¸­\næš‚åœæ›´æ–°çš„ä»“åº“ [https://github.com/xiaohai2271/blog](https://github.com/xiaohai2271/blog)\n',
        '', 1, 1, 618, 0, 0, 1, '2019-04-16 15:18:47', '2020-06-16 00:01:09', 1, 0),
       (5, 'Linuxä¸‹sublimeæ— æ³•è¾“å…¥ä¸­æ–‡',
        '    æµ‹è¯•ç³»ç»Ÿï¼šDeepin 15.9.1 ï¼ˆç†è®ºä¸Šæ‰€æœ‰ Linux å‘è¡Œç‰ˆéƒ½é€šç”¨ï¼‰\n    è¾“å…¥æ³•ï¼šFcitx 4.2.9.6\n    Sublime Text ç‰ˆæœ¬ï¼šSublime Text 3.1.1ï¼ˆBuild 3176ï¼‰\n\n\n1.ä¿å­˜ä¸‹è¿°ä»£ç ä¸º sublime-imfix.c æ–‡ä»¶\n\n\n\n/*\nsublime-imfix.c\n ......',
        '	æµ‹è¯•ç³»ç»Ÿï¼šDeepin 15.9.1 ï¼ˆç†è®ºä¸Šæ‰€æœ‰ Linux å‘è¡Œç‰ˆéƒ½é€šç”¨ï¼‰\n	è¾“å…¥æ³•ï¼šFcitx 4.2.9.6\n	Sublime Text ç‰ˆæœ¬ï¼šSublime Text 3.1.1ï¼ˆBuild 3176ï¼‰\n\n> 1.ä¿å­˜ä¸‹è¿°ä»£ç ä¸º sublime-imfix.c æ–‡ä»¶\n\n```\n/*\nsublime-imfix.c\nUse LD_PRELOAD to interpose some function to fix sublime input method support for linux.\nBy Cjacker Huang\n\ngcc -shared -o libsublime-imfix.so sublime-imfix.c `pkg-config --libs --cflags gtk+-2.0` -fPIC\nLD_PRELOAD=./libsublime-imfix.so subl\n*/\n#include \n#include \ntypedef GdkSegment GdkRegionBox;\n\nstruct _GdkRegion\n{\n  long size;\n  long numRects;\n  GdkRegionBox *rects;\n  GdkRegionBox extents;\n};\n\nGtkIMContext *local_context;\n\nvoid\ngdk_region_get_clipbox (const GdkRegion *region,\n            GdkRectangle    *rectangle)\n{\n  g_return_if_fail (region != NULL);\n  g_return_if_fail (rectangle != NULL);\n\n  rectangle->x = region->extents.x1;\n  rectangle->y = region->extents.y1;\n  rectangle->width = region->extents.x2 - region->extents.x1;\n  rectangle->height = region->extents.y2 - region->extents.y1;\n  GdkRectangle rect;\n  rect.x = rectangle->x;\n  rect.y = rectangle->y;\n  rect.width = 0;\n  rect.height = rectangle->height;\n  //The caret width is 2;\n  //Maybe sometimes we will make a mistake, but for most of the time, it should be the caret.\n  if(rectangle->width == 2 && GTK_IS_IM_CONTEXT(local_context)) {\n        gtk_im_context_set_cursor_location(local_context, rectangle);\n  }\n}\n\n//this is needed, for example, if you input something in file dialog and return back the edit area\n//context will lost, so here we set it again.\n\nstatic GdkFilterReturn event_filter (GdkXEvent *xevent, GdkEvent *event, gpointer im_context)\n{\n    XEvent *xev = (XEvent *)xevent;\n    if(xev->type == KeyRelease && GTK_IS_IM_CONTEXT(im_context)) {\n       GdkWindow * win = g_object_get_data(G_OBJECT(im_context),"window");\n       if(GDK_IS_WINDOW(win))\n         gtk_im_context_set_client_window(im_context, win);\n    }\n    return GDK_FILTER_CONTINUE;\n}\n\nvoid gtk_im_context_set_client_window (GtkIMContext *context,\n          GdkWindow    *window)\n{\n  GtkIMContextClass *klass;\n  g_return_if_fail (GTK_IS_IM_CONTEXT (context));\n  klass = GTK_IM_CONTEXT_GET_CLASS (context);\n  if (klass->set_client_window)\n    klass->set_client_window (context, window);\n\n  if(!GDK_IS_WINDOW (window))\n    return;\n  g_object_set_data(G_OBJECT(context),"window",window);\n  int width = gdk_window_get_width(window);\n  int height = gdk_window_get_height(window);\n  if(width != 0 && height !=0) {\n    gtk_im_context_focus_in(context);\n    local_context = context;\n  }\n  gdk_window_add_filter (window, event_filter, context);\n}\n\n```\n\n\n> 2.å®‰è£… C/C++ çš„ç¼–è¯‘ç¯å¢ƒå’Œ gtk libgtk2.0-dev\n\n` sudo apt-get install build-essential `\n` sudo apt-get install libgtk2.0-dev `\n\n\n> 3.ç¼–è¯‘å…±äº«å†…åº“\n\n`` gcc -shared -o libsublime-imfix.so sublime-imfix.c `pkg-config --libs --cflags gtk+-2.0` -fPIC ``\n\n\n> 4.è®¾ç½® LD_PRELOAD å¹¶å¯åŠ¨ Sublime Text\n\n` D_PRELOAD=./libsublime-imfix.so subl`\n\n> 5.è®¾ç½®å¿«æ·æ–¹å¼å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½åº“\n\nä¿®æ”¹sublime.desktopä¸­çš„Exeuä¸º\n` Exec=env LD_PRELOAD=/opt/sublime_text_3/libsublime-imfix.so /opt/sublime_text_3/sublime_text\n`\næ–‡ç« è½¬è½½è‡ª [https://www.sinosky.org/linux-sublime-text-fcitx.html](''https://www.sinosky.org/linux-sublime-text-fcitx.html'')\n\n',
        'https://www.sinosky.org/linux-sublime-text-fcitx.html', 1, 0, 341, 0, 0, 3, '2019-04-16 15:21:34', NULL, 1, 0),
       (8, 'shiroå‰åç«¯åˆ†ç¦»ä¸­çš„è·³è½¬é—®é¢˜',
        '\n1.é—®é¢˜æè¿°\n\n\n\nå› ä¸ºæƒ³å®ç°å‰åç«¯åˆ†ç¦»ï¼Œå¹¶ä¸”ä½¿ç”¨shiroè¿›è¡Œæƒé™ç®¡ç†ä½†æ˜¯ç¢°åˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯shiroçš„é‡å®šå‘é—®é¢˜\n    1.æœªç™»å½•ï¼Œshiroä¼šè‡ªåŠ¨é‡å®šå‘åˆ° /login\n    2.è®¿é—®è·¯å¾„æ— æƒé™ï¼Œshiroä¼šæŠ›å‡º401 httpé”™è¯¯\n\n\n2.è§£å†³\n\n\n\nå› ä¸ºæˆ‘çº¯ç²¹åªæƒ³ç”¨springBootå†™åç«¯apiæ‰€ä»¥å°±å¿…é¡»killæ‰è¿™äº›é—®é¢˜é€šè¿‡æŸ¥èµ„æ–™å‘ç°åœ¨ ......',
        '> 1.é—®é¢˜æè¿°\n\nå› ä¸ºæƒ³å®ç°å‰åç«¯åˆ†ç¦»ï¼Œå¹¶ä¸”ä½¿ç”¨shiroè¿›è¡Œæƒé™ç®¡ç† \nä½†æ˜¯ç¢°åˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯shiroçš„é‡å®šå‘é—®é¢˜\n\n	1.æœªç™»å½•ï¼Œshiroä¼šè‡ªåŠ¨é‡å®šå‘åˆ° /login\n	2.è®¿é—®è·¯å¾„æ— æƒé™ï¼Œshiroä¼šæŠ›å‡º401 httpé”™è¯¯\n\n> 2.è§£å†³\n\nå› ä¸ºæˆ‘çº¯ç²¹åªæƒ³ç”¨springBootå†™åç«¯apiæ‰€ä»¥å°±å¿…é¡»killæ‰è¿™äº›é—®é¢˜\né€šè¿‡æŸ¥èµ„æ–™å‘ç°åœ¨ ` org.apache.shiro.web.filter.authz.AuthorizationFilter`ä¸‹æœ‰\nonAccessDeniedæ–¹æ³•ï¼Œæºç ï¼š\n```\nprotected boolean onAccessDenied(ServletRequest request, ServletResponse response) throws IOException {\n        Subject subject = this.getSubject(request, response);\n        if (subject.getPrincipal() == null) {\n            this.saveRequestAndRedirectToLogin(request, response);\n        } else {\n            String unauthorizedUrl = this.getUnauthorizedUrl();\n            if (StringUtils.hasText(unauthorizedUrl)) {\n                WebUtils.issueRedirect(request, response, unauthorizedUrl);\n            } else {\n                WebUtils.toHttp(response).sendError(401);\n            }\n        }\n\n        return false;\n    }\n```\né‡å†™æ­¤æ–¹æ³•å³å¯è§£å†³é‡å®šå‘çš„é—®é¢˜\néšå³\n``` \npublic class RestAuthorizationFilter extends PermissionsAuthorizationFilter {\n\n    @Override\n    protected boolean onAccessDenied(ServletRequest request, ServletResponse response) throws IOException {\n        response.setContentType("application/Json");\n        response.setCharacterEncoding("UTF-8");\n        Subject subject = this.getSubject(request, response);\n        if (subject.getPrincipal() == null) {\n            response.getWriter().print(ResponseUtil.response(CodeAndMsgEnum.DIDNOTLOGIN, null));\n        } else {\n            String unauthorizedUrl = this.getUnauthorizedUrl();\n            if (StringUtils.hasText(unauthorizedUrl)) {\n                WebUtils.issueRedirect(request, response, unauthorizedUrl);\n            } else {\n                response.getWriter().print(ResponseUtil.response(CodeAndMsgEnum.PERMISSION_FAILD, null));\n            }\n        }\n\n        return false;\n    }\n}\n\n```\nå½“æ— æƒé™/éœ€è¦ç™»å½•çš„çš„æ—¶å€™è¿”å›ä¸€ä¸ªjsonå­—ç¬¦ä¸²å³å¯\n> 3.æœ€ç»ˆæ•ˆæœï¼š(note:éœ€è¦å°†å¯¹è±¡è½¬jsonï¼Œå›¾ä¸­æ˜¯object.toStringæ•ˆæœ)\n\n### æœªç™»å½•ï¼š\n!["æ²¡æœ‰ç™»å½•"](http://56462271.oss-cn-beijing.aliyuncs.com/web/blogimg/didnotlogin.png)\n\n### æ— æƒé™ï¼š\n!["æ— æƒé™"](http://56462271.oss-cn-beijing.aliyuncs.com/web/blogimg/permission.png)\n\n',
        '', 1, 1, 245, 0, 0, 2, '2019-04-16 15:23:30', NULL, 1, 0),
       (10, 'Linuxä¸‹Vimçš„â€œå‡æ­»â€',
        'éšæ‰‹ä¸€ä¸ªCtrl+S æ˜¯ä¸ªå¥½ä¹ æƒ¯\nç„¶è€Œ....\nç„¶è€Œè¿™ä¸ªä¹ æƒ¯å´åœ¨æˆ‘ä½¿ç”¨Vimçš„æ—¶å€™å‘äº†æˆ‘\nç”±äºä¸æ˜¯ç»å¸¸å‘ç”Ÿï¼Œä¹Ÿå°±æ²¡åœ¨æ„ã€‚æ¯æ¬¡å¾ˆéº»çƒ¦çš„å…³æ‰terminalçš„çª—å£ï¼Œé‡æ–°å†æ‰“å¼€terminalã€‚ä»Šå¤©å‘ç”Ÿäº†å¥½å‡ æ¬¡ï¼Œå¾ˆæ˜¯éƒé—·ã€‚å°±æƒ³çœ‹çœ‹ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹ï¼Œç»“æœå‘ç°æ¯æ¬¡æŒ‰ä¸‹Ctrl+Så°±ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚\nåæ¥ç™¾åº¦ï¼ŒGoogleæ‰å‘ç° è¿™è´§æ˜¯ä¸€ä¸ªå¿«æ·é”® å¯¹åº”çš„æ˜¯ é”å®šå±å¹•\nè¦è§£é™¤é”å®š åªéœ€ Ctrl + Q\næˆ‘ä¼°è®¡è¿™å¯èƒ½æ˜¯Vimä¸­æˆ‘è®°å¾—æœ€ç‰¢çš„ä¸€ä¸ªå¿«æ·é”®ä¹‹ä¸€å§\n',
        'éšæ‰‹ä¸€ä¸ªCtrl+S æ˜¯ä¸ªå¥½ä¹ æƒ¯\n\nç„¶è€Œ....\n\nç„¶è€Œè¿™ä¸ªä¹ æƒ¯å´åœ¨æˆ‘ä½¿ç”¨Vimçš„æ—¶å€™å‘äº†æˆ‘\n\nç”±äºä¸æ˜¯ç»å¸¸å‘ç”Ÿï¼Œä¹Ÿå°±æ²¡åœ¨æ„ã€‚æ¯æ¬¡å¾ˆéº»çƒ¦çš„å…³æ‰terminalçš„çª—å£ï¼Œé‡æ–°å†æ‰“å¼€terminalã€‚ä»Šå¤©å‘ç”Ÿäº†å¥½å‡ æ¬¡ï¼Œå¾ˆæ˜¯éƒé—·ã€‚å°±æƒ³çœ‹çœ‹ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹ï¼Œç»“æœå‘ç°æ¯æ¬¡æŒ‰ä¸‹Ctrl+Så°±ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚\n\nåæ¥ç™¾åº¦ï¼ŒGoogleæ‰å‘ç° è¿™è´§æ˜¯ä¸€ä¸ªå¿«æ·é”® å¯¹åº”çš„æ˜¯ <strong>é”å®šå±å¹•</strong>\n\nè¦è§£é™¤é”å®š åªéœ€ <strong>Ctrl + Q</strong>\n\næˆ‘ä¼°è®¡è¿™å¯èƒ½æ˜¯Vimä¸­æˆ‘è®°å¾—æœ€ç‰¢çš„ä¸€ä¸ªå¿«æ·é”®ä¹‹ä¸€å§',
        '', 1, 1, 221, 0, 0, 3, '2019-04-16 15:24:13', NULL, 1, 1),
       (12, 'è‡ªå·±åŠ¨æ‰‹æ’¸ä¸€ä¸ªSpring MVCæ§åˆ¶å™¨',
        'è‡ªå·±åŠ¨æ‰‹æ’¸ä¸€ä¸ª MVC æ§åˆ¶å™¨\n\n     ç”¨æ¥åŠ æ·±å¯¹javaåå°„çš„ç†è§£çš„ç»ƒæ‰‹é¡¹ç›® ä¹Ÿæ˜¯åŠ æ·±å¯¹spring MVC ç†è§£çš„é¡¹ç›®\n    \n\n\n\nMappping å¯¹è±¡\n\n\n\nimport java.lang.reflect.Method;\n\n/**\n * ç”¨äºå­˜å‚¨æ¯ä¸ªurlæ˜ å°„......',
        '## è‡ªå·±åŠ¨æ‰‹æ’¸ä¸€ä¸ª MVC æ§åˆ¶å™¨\n\n	 ç”¨æ¥åŠ æ·±å¯¹javaåå°„çš„ç†è§£çš„ç»ƒæ‰‹é¡¹ç›® ä¹Ÿæ˜¯åŠ æ·±å¯¹spring MVC ç†è§£çš„é¡¹ç›®\n	\n\n\n> Mappping å¯¹è±¡\n\n``` \nimport java.lang.reflect.Method;\n\n/**\n * ç”¨äºå­˜å‚¨æ¯ä¸ªurlæ˜ å°„\n *\n * @author : xiaohai\n * @date : 2019/03/17 20:58\n */\npublic class Mapping {\n    private String[] path;\n\n    private String requestMethod;// è¯·æ±‚æ–¹å¼\n\n    private Class<?> aclass;\n\n    private Method method;//æ³¨è§£å¯¹åº”çš„methods\n\n    //setter and getter\n}\n```\n\n<br/>\n\n> RequestMappingæ³¨è§£\n\n```\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD,ElementType.TYPE})\npublic @interface RequestMapping {\n    String[] value() default "";\n\n    RequestMethod method() default RequestMethod.GET;\n}\n```\n\n<br/>\n> Controlleræ³¨è§£\n\n```\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface Controller {\n    String value() default "";\n}\n```\n\n\n\n<br/>\n> æ ¸å¿ƒservlet\n\n``` \n\nimport cn.celess.boot.Application;\nimport cn.celess.boot.annotation.Controller;\nimport cn.celess.boot.annotation.RequestMapping;\nimport cn.celess.boot.entity.Mapping;\nimport cn.celess.boot.util.*;\nimport cn.celess.logtool.Log;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n * @author : xiaohai\n * @date : 2019/03/17 10:16\n * æ ¸å¿ƒæ§åˆ¶ç±»\n */\npublic class DispatcherServlet extends HttpServlet {\n    private static final Log log = new Log(DispatcherServlet.class);\n    private static final List<Mapping> mappingList = new ArrayList<Mapping>();\n\n    public DispatcherServlet() {\n        initRequestMapingMap(Application.classpath);\n    }\n\n    /**\n     * è§£æ è·å–è¯·æ±‚çš„å‚æ•° å³RequestMappingçš„valueå€¼å’Œmethod\n     * å¯¹pathè¿›è¡Œæ•´ç† ä¿å­˜ä¸º/xx/xx/çš„æ ¼å¼\n     *\n     * @param request\n     * @return\n     */\n    private String[] pareUrl(HttpServletRequest request) {\n        String[] pAndM = new String[2];\n        String path = request.getContextPath() + "/";\n        String requestUri = request.getRequestURI().replaceFirst(path, "");\n        if (requestUri.length() > 0) {\n            if (requestUri.substring(requestUri.length() - 1) != "/") {\n                requestUri += "/";\n            }\n        } else {\n            requestUri += "/";\n        }\n        pAndM[0] = "/" + requestUri;\n        pAndM[1] = request.getMethod();\n\n        return pAndM;\n    }\n\n    @Override\n    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        log.info("æ‰§è¡Œäº†serviceæ–¹æ³•");\n        this.execute(req, resp);\n    }\n\n    /**\n     * åŒ¹é…pathå’ŒRequestMethod  å¹¶æ‰§è¡ŒpathåŒ¹é…çš„æ–¹æ³•\n     *\n     * @param request\n     * @param response\n     * @throws ServletException\n     * @throws IOException\n     */\n    public void execute(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        String[] s = pareUrl(request);\n        String urlPath = s[0];\n        String requestMethod = s[1];\n\n        Class<?> clazz = null;\n        Method method = null;\n        for (Mapping ml : mappingList) {\n            String[] path = ml.getPath();\n            for (String str : path) {\n                if (urlPath.equals(str)) {\n                    if (requestMethod.toUpperCase().equals(ml.getRequestMethod())) {\n                        method = ml.getMethod();\n                        clazz = ml.getAclass();\n                        break;\n                    }\n                }\n            }\n            if (method != null) break;\n        }\n\n        if (method == null) {\n            response.sendError(404);//æ²¡æ‰¾åˆ°æ˜ å°„\n            return;\n        }\n\n        Object obj = null;//æ–¹æ³•è¿”å›å€¼\n\n        if (method != null) {\n            Object retObject = null;\n            try {\n                //åˆ›å»ºç±»çš„å®ä¾‹\n                obj = clazz.newInstance();\n                //åˆ©ç”¨åå°„æ‰§è¡Œè¿™ä¸ªæ–¹æ³•\n                retObject = method.invoke(obj, request, response);\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            } catch (InvocationTargetException e) {\n                e.printStackTrace();\n            } catch (InstantiationException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    /***\n     * å°†controller  è§£æç„¶åå­˜å‚¨èµ·æ¥\n     * @param packageName\n     */\n    private void initRequestMapingMap(String packageName) {\n        List<Class> classList = ReflectUtil.getClasssFromPackage(packageName);\n        for (Class c : classList) {\n            if (c.isAnnotationPresent(Controller.class)) {\n                Method[] methods = c.getDeclaredMethods();\n                for (Method m : methods) {\n                    if (m.isAnnotationPresent(RequestMapping.class)) {\n                        String[] path = m.getAnnotation(RequestMapping.class).value();\n                        // å¯¹path è¿›è¡Œ è§„èŒƒåŒ–\n                        for (int i = 0; i < path.length; i++) {\n                            if (!"/".equals(path[i].substring(0, 1))) {\n                                path[i] = "/" + path[i];\n                            }\n                            if (!"/".equals(path[i].substring(path[i].length() - 1))) {\n                                path[i] += "/";\n                            }\n\n                        }\n                        String requestMethod = m.getAnnotation(RequestMapping.class).method().getMethod();\n                        log.info("path : " + Arrays.toString(path) + " requestMethod:" + requestMethod);\n                        Mapping mapping = new Mapping();\n                        mapping.setPath(path);\n                        mapping.setRequestMethod(requestMethod);\n                        mapping.setAclass(c);\n                        mapping.setMethod(m);\n\n                        mappingList.add(mapping);\n                    }\n                }\n            }\n        }\n        log.info("æ–¹æ³•æ˜ å°„æˆåŠŸ");\n    }\n}\n```\n\n\n',
        '', 1, 1, 314, 0, 0, 2, '2019-04-16 15:25:05', NULL, 1, 0),
       (47, 'javaMailæœ¬åœ°æµ‹è¯•æ­£å¸¸ éƒ¨ç½²åè¿æ¥è¶…æ—¶',
        '\né”™è¯¯ä¿¡æ¯ï¼š\n\n\n\n Â Â Â Â Â Â Â Â send mail err:Mail server connection failed; nested exception is com.sun.mail.util.MailConnectException: Couldnâ€™t connect to host, ......',
        '> é”™è¯¯ä¿¡æ¯ï¼š\n\n`` Â Â Â Â Â Â Â Â send mail err:Mail server connection failed; nested exception is com.sun.mail.util.MailConnectException: Couldnâ€™t connect to host, port: smtp.qq.com, 25; timeout -1\n``\n\n> éƒ¨ç½²ç¯å¢ƒï¼š\n\né˜¿é‡Œäº‘ecs Ubuntu 16.04.6 LTS\n> åŸå› \n\né˜¿é‡Œäº‘é™åˆ¶äº†25ç«¯å£\n\n> è§£å†³æ–¹æ¡ˆ\n\n## ä¿®æ”¹ç«¯å£å·:\n\n``` \n###############  email  ##############\nspring.mail.host=smtp.163.com\nspring.mail.username=xxx\nspring.mail.password=xxx\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.default-encoding=UTF-8\n\n## æ–°å¢å¦‚ä¸‹\nspring.mail.port=465\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\nspring.mail.properties.mail.smtp.socketFactory.fallback=false\n```\n\n\n\n> å‚è€ƒè‡ªï¼š\n[https://blog.csdn.net/yc_Low_profile/article/details/80761031](https://blog.csdn.net/yc_Low_profile/article/details/80761031)\n[https://blog.csdn.net/gzy_0922/article/details/79853155](https://blog.csdn.net/gzy_0922/article/details/79853155)',
        '', 1, 1, 346, 0, 0, 2, '2019-04-22 09:13:19', NULL, 1, 0),
       (993, 'è®°ä¸€èµ·å¥‡æ€ªçš„ HttpRequestMethodNotSupportedException ',
        'æœ€è¿‘åœ¨ä¿®æ”¹åå°æ¥å£çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜\r\n\r\n\r\n\r\nåœ¨æˆ‘è®¿é—®å¤§éƒ¨åˆ†æ¥å£çš„æ—¶å€™åå°ä¼šæŠ›å‡ºé”™è¯¯\r\n org.springframework.web.HttpRequestMethodNotSupportedException: Request method ''XXX'' not supported \r\näºæ˜¯åœ¨......',
        '> æœ€è¿‘åœ¨ä¿®æ”¹åå°æ¥å£çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜\n\nåœ¨æˆ‘è®¿é—®å¤§éƒ¨åˆ†æ¥å£çš„æ—¶å€™åå°ä¼šæŠ›å‡ºé”™è¯¯\n\n`` org.springframework.web.HttpRequestMethodNotSupportedException: Request method ''XXX'' not supported ``\n\näºæ˜¯åœ¨` org.springframework.web.servlet` ä¸‹çš„` doDispatch`æ–¹æ³•æ‰“æ–­ç‚¹å‘ç°è¯·æ±‚è¿æ¥æ˜¯` /login` è¿™ä¸ªå¾ˆå¥½çš„æš´éœ²äº†ä¸ºä½•æŠ¥` HttpRequestMethodNotSupportedException `è¿™ä¸ªé”™è¯¯ï¼Œ\nä½†æ˜¯é—®é¢˜åˆæ¥äº†ï¼Œæˆ‘å·²åœ¨` RestAuthorizationFilter`ä¸­å¤„ç†äº†æƒé™è¯·æ±‚ï¼Œå½“éœ€è¦ç™»å½•æ—¶é»˜è®¤è¿”å›jsonå­—ç¬¦ä¸²ï¼Œç”±å¸ƒå°”ç±»å‹çš„jsonRes æ ‡è¯†\n\nä»¥ä¸‹ä¸ºæºä»£ç \n``` \n    @Override\n    protected boolean onAccessDenied(ServletRequest request, ServletResponse response) throws IOException {\n        //æ˜¯å¦éœ€è¦è¿”å›å€¼ä¸ºjsonæ ¼å¼çš„æ•°æ®\n        Boolean jsonRes = Boolean.parseBoolean(request.getParameter("json"));\n        if (jsonRes == null) {\n            jsonRes = true;\n        }\n        response.setContentType("application/Json");\n        response.setCharacterEncoding("utf-8");\n        Subject subject = this.getSubject(request, response);\n        if (subject.getPrincipal() == null) {\n            if (!jsonRes) {\n                this.saveRequestAndRedirectToLogin(request, response);\n            } else {\n                response.getWriter().println(ResponseUtil.response(ResponseEnum.HAVE_NOT_LOG_IN, null).toString());\n            }\n        } else {\n            if (jsonRes) {\n                String unauthorizedUrl = this.getUnauthorizedUrl();\n                if (StringUtils.hasText(unauthorizedUrl)) {\n                } else {\n                    response.getWriter().print(ResponseUtil.response(ResponseEnum.PERMISSION_ERROR, null).toString());\n                }\n            } else {\n                String unauthorizedUrl = this.getUnauthorizedUrl();\n                if (StringUtils.hasText(unauthorizedUrl)) {\n                    WebUtils.issueRedirect(request, response, unauthorizedUrl);\n                } else {\n                    WebUtils.toHttp(response).sendError(401);\n                }\n            }\n        }\n        return false;\n    }\n```\né—®é¢˜å°±å‡ºåœ¨äº†è¿™ä¸ªå¸ƒå°”å˜é‡ä¸Šé¢\n\næ–­ç‚¹è°ƒè¯•å‘ç°è¯¥å€¼æ— æ³•é€šè¿‡ifè¯­å¥æ”¹å˜ï¼Œå³``\n        if (jsonRes == null) {\n            jsonRes = true;\n        }\n``\nä¸ç”Ÿæ•ˆåæŸ¥çœ‹` Boolean.parseBoolean()`æºä»£ç å‘ç°å¦‚ä¸‹\n``` \n    public static boolean parseBoolean(String s) {\n        return ((s != null) && s.equalsIgnoreCase("true"));\n    }\n```\nå³å·²ç»å¤„ç†äº†` null`çš„æƒ…å†µ\n\nä¸€ä¸ªç”± `  HttpRequestMethodNotSupportedException `å¼•å‘çš„è¯¡å¼‚äº‹ä»¶å°±æ­¤ç»“æŸ',
        '', 1, 1, 361, 0, 0, 2, '2019-05-08 05:32:02', NULL, 1, 0),
       (1018, 'ã€Šå°ç‹å­ã€‹',
        'çˆ±æ˜¯ä¸€åœºé©¯å…»ï¼Œç‹ç‹¸è¯´ï¼šâ€œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæˆ‘ï¼Œä½ å’Œå…¶ä»–æˆåƒä¸Šä¸‡çš„å°ç”·å­©ä¸€æ ·ï¼Œæ²¡æœ‰ä¸åŒã€‚æˆ‘ä¸éœ€è¦ä½ ï¼›è€Œä½ ï¼Œä¹Ÿä¸éœ€è¦æˆ‘ã€‚äºä½ è€Œè¨€ï¼Œæˆ‘å’Œå…¶ä»–æˆåƒä¸Šä¸‡çš„ç‹ç‹¸ä¹Ÿå¹¶æ— äºŒè‡´ã€‚ä½†å¦‚æœä½ é©¯å…»äº†æˆ‘ï¼Œæˆ‘ä»¬ä¾¿å½¼æ­¤éœ€è¦ã€‚åœ¨è¿™ä¸ªä¸–ä¸Šï¼Œä½ å°±æ˜¯æˆ‘çš„å”¯ä¸€ï¼Œæˆ‘äº¦æ˜¯ä½ çš„å”¯ä¸€ã€‚â€',
        'çˆ±æ˜¯ä¸€åœºé©¯å…»ï¼Œç‹ç‹¸è¯´ï¼šâ€œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæˆ‘ï¼Œä½ å’Œå…¶ä»–æˆåƒä¸Šä¸‡çš„å°ç”·å­©ä¸€æ ·ï¼Œæ²¡æœ‰ä¸åŒã€‚æˆ‘ä¸éœ€è¦ä½ ï¼›è€Œä½ ï¼Œä¹Ÿä¸éœ€è¦æˆ‘ã€‚äºä½ è€Œè¨€ï¼Œæˆ‘å’Œå…¶ä»–æˆåƒä¸Šä¸‡çš„ç‹ç‹¸ä¹Ÿå¹¶æ— äºŒè‡´ã€‚ä½†å¦‚æœä½ é©¯å…»äº†æˆ‘ï¼Œæˆ‘ä»¬ä¾¿å½¼æ­¤éœ€è¦ã€‚åœ¨è¿™ä¸ªä¸–ä¸Šï¼Œä½ å°±æ˜¯æˆ‘çš„å”¯ä¸€ï¼Œæˆ‘äº¦æ˜¯ä½ çš„å”¯ä¸€ã€‚â€ æˆ‘ä¼šä½åœ¨å…¶ä¸­çš„ä¸€é¢—æ˜Ÿæ˜Ÿä¸Šé¢.åœ¨æŸä¸€é¢—æ˜Ÿæ˜Ÿä¸Šå¾®ç¬‘ç€.æ¯å½“å¤œæ™šä½ ä»°æœ›æ˜Ÿç©ºçš„æ—¶å€™.å°±ä¼šåƒæ˜¯çœ‹åˆ°æ‰€æœ‰çš„æ˜Ÿæ˜Ÿéƒ½åœ¨å¾®ç¬‘ä¸€èˆ¬ã€‚\n2019.5.8\n',
        '', 2, 1, 343, 0, 0, 4, '2019-05-08 11:26:39', NULL, 1, 1),
       (1286, 'angularä¸­innerHTMLçš„æ ·å¼çš„é—®é¢˜',
        'angularä¸­innerHTMLçš„æ ·å¼é—®é¢˜\n\nangularä¼šå¯¹cssæ–‡ä»¶çš„æ ·å¼è¿›è¡Œå¤„ç†\nä¾‹å¦‚ä¸‹å›¾å°±æ˜¯è¢«å¤„ç†è¿‡çš„æ ·å¼\nä½¿ç”¨innerHTMLæ’å…¥domæ—¶æ ‡ç­¾éƒ½æ˜¯åŸç”Ÿæ ‡ç­¾ï¼Œæ˜¯æ— æ³•åŒ¹é…åˆ°cssæ ·å¼çš„ï¼Œè€Œä¸”domä¸Šçš„styleæ ·å¼ä¹Ÿä¼šè¢«æ¸…é™¤ï¼Œæ‰€ä»¥innerHTMLå†…å®¹æ˜¯æ²¡æœ‰æ ·å¼çš„ã€‚ä½†æ’’å¹¶ä¸æ˜¯æ„å‘³ç€æˆ‘ä»¬å°±æ— æ³•ç»™ä»–è®¾ç½®æ ·å¼ï¼Œ......',
        '# angularä¸­innerHTMLçš„æ ·å¼é—®é¢˜\n\n### angularä¼šå¯¹cssæ–‡ä»¶çš„æ ·å¼è¿›è¡Œå¤„ç†\nä¾‹å¦‚ä¸‹å›¾å°±æ˜¯è¢«å¤„ç†è¿‡çš„æ ·å¼\n![cssæ ·å¼](http://cdn.celess.cn/img_1558454083327.jpg "cssæ ·å¼")\n<hr>\n\nä½¿ç”¨innerHTMLæ’å…¥domæ—¶æ ‡ç­¾éƒ½æ˜¯åŸç”Ÿæ ‡ç­¾ï¼Œæ˜¯æ— æ³•åŒ¹é…åˆ°cssæ ·å¼çš„ï¼Œè€Œä¸”domä¸Šçš„styleæ ·å¼ä¹Ÿä¼šè¢«æ¸…é™¤ï¼Œæ‰€ä»¥innerHTMLå†…å®¹æ˜¯æ²¡æœ‰æ ·å¼çš„ã€‚\nä½†æ’’å¹¶ä¸æ˜¯æ„å‘³ç€æˆ‘ä»¬å°±æ— æ³•ç»™ä»–è®¾ç½®æ ·å¼ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹\n\n1. åœ¨è¦æ’å…¥çš„ç»„ä»¶çš„tsçš„æ³¨è§£ä¸Šé¢æ·»åŠ ` encapsulation: ViewEncapsulation.None,`å¦‚ä¸‹ï¼š\n\n```\n@Component({\n  selector: ''app-article'',\n  templateUrl: ''./article.component.html'',\n  encapsulation: ViewEncapsulation.None,\n  styleUrls: [''./article.component.css'']\n})\n```\n2. æ’å…¥html è®¾ç½®æ ·å¼å³å¯\næŸ¥çœ‹æ ·å¼\n![cssæ ·å¼](http://cdn.celess.cn/img_1558454764739.jpg "cssæ ·å¼")\n\n### æ–°çš„é—®é¢˜\nè™½ç„¶æ’å…¥domçš„æ ·å¼è§£å†³äº†ï¼Œä½†æ˜¯æ–°çš„é—®é¢˜ä¹Ÿéšä¹‹è€Œæ¥äº†ï¼Œç”±äºä¿®æ”¹åçš„csså†…å®¹ä¸ç”±angularè¿›è¡Œç‰¹æ®Šå¤„ç†äº†ï¼Œæ”¹cssæ ·å¼ç¬é—´å˜æˆäº†å…¨å±€æ ·å¼ï¼Œå…¶ä»–é¡µé¢çš„æ ·å¼ä¹Ÿä¼šå› ä¸ºä½ è®¿é—®è¿™ä¸ªé¡µé¢åè€Œæ”¹å˜æ ·å¼ã€‚æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªä¸å¤ªåˆç†çš„è§£å†³æ–¹æ¡ˆã€‚ç‰¹æ­¤è®°å½•ã€‚',
        '', 1, 1, 306, 0, 0, 5, '2019-05-21 16:11:51', NULL, 1, 0),
       (1287, 'HTML attributeå’ŒDOM property',
        'Attributeå’ŒPropertyåœ¨è‹±æ–‡ä¸­å‡ä¸ºå±æ€§çš„æ„æ€,ä»–ä»¬æœ‰å¯†åˆ‡çš„è”ç³»ï¼Œä¹Ÿæœ‰ä¸åŒçš„å·®åˆ«ã€‚\n\nAttribute æ˜¯ç”± HTML å®šä¹‰çš„ã€‚property æ˜¯ç”± DOM (Document Object Model) å®šä¹‰çš„ã€‚\n\n\n\nå°‘é‡ HTML attribute å’Œ property ä¹‹é—´æœ‰ç€ 1:1 çš„æ˜ å°„ï¼Œå¦‚ idã€‚\næœ‰äº› ......',
        'Attributeå’ŒPropertyåœ¨è‹±æ–‡ä¸­å‡ä¸ºå±æ€§çš„æ„æ€,ä»–ä»¬æœ‰å¯†åˆ‡çš„è”ç³»ï¼Œä¹Ÿæœ‰ä¸åŒçš„å·®åˆ«ã€‚\n\n> Attribute æ˜¯ç”± HTML å®šä¹‰çš„ã€‚property æ˜¯ç”± DOM (Document Object Model) å®šä¹‰çš„ã€‚\n- å°‘é‡ HTML attribute å’Œ property ä¹‹é—´æœ‰ç€ 1:1 çš„æ˜ å°„ï¼Œå¦‚ idã€‚\n- æœ‰äº› HTML attribute æ²¡æœ‰å¯¹åº”çš„ propertyï¼Œå¦‚ colspanã€‚\n- æœ‰äº› DOM property æ²¡æœ‰å¯¹åº”çš„ attributeï¼Œå¦‚ textContentã€‚\n- å¤§é‡ HTML attribute çœ‹èµ·æ¥æ˜ å°„åˆ°äº† propertyâ€¦â€¦ ä½†å´ä¸åƒä½ æƒ³çš„é‚£æ ·ï¼\n\n> æœ€åä¸€ç±»å°¤å…¶è®©äººå›°æƒ‘â€¦â€¦ é™¤éä½ èƒ½ç†è§£è¿™ä¸ªæ™®éåŸåˆ™ï¼š\nattribute åˆå§‹åŒ– DOM propertyï¼Œç„¶åå®ƒä»¬çš„ä»»åŠ¡å°±å®Œæˆäº†ã€‚property çš„å€¼å¯ä»¥æ”¹å˜ï¼›attribute çš„å€¼ä¸èƒ½æ”¹å˜ã€‚\nä¾‹å¦‚ï¼Œå½“æµè§ˆå™¨æ¸²æŸ“ `<input type="text" value="Bob">` æ—¶ï¼Œå®ƒå°†åˆ›å»ºç›¸åº” DOM èŠ‚ç‚¹ï¼Œ å®ƒçš„ value è¿™ä¸ª property è¢«åˆå§‹åŒ–ä¸º â€œBobâ€ã€‚\nå½“ç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ â€œSallyâ€ æ—¶ï¼ŒDOM å…ƒç´ çš„ value è¿™ä¸ª property å˜æˆäº† â€œSallyâ€ã€‚ ä½†æ˜¯è¯¥ HTML çš„ value è¿™ä¸ª attribute ä¿æŒä¸å˜ã€‚å¦‚æœä½ è¯»å– input å…ƒç´ çš„ attributeï¼Œå°±ä¼šå‘ç°ç¡®å®æ²¡å˜ï¼š `input.getAttribute(''value'') // è¿”å› "Bob"`ã€‚\nHTML çš„ value è¿™ä¸ª attribute æŒ‡å®šäº†åˆå§‹å€¼ï¼›DOM çš„ value è¿™ä¸ª property æ˜¯å½“å‰å€¼ã€‚\ndisabled è¿™ä¸ª attribute æ˜¯å¦ä¸€ç§ç‰¹ä¾‹ã€‚æŒ‰é’®çš„ disabled è¿™ä¸ª property æ˜¯ falseï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹æŒ‰é’®æ˜¯å¯ç”¨çš„ã€‚ å½“ä½ æ·»åŠ  disabled è¿™ä¸ª attribute æ—¶ï¼Œåªè¦å®ƒå‡ºç°äº†æŒ‰é’®çš„ disabled è¿™ä¸ª property å°±åˆå§‹åŒ–ä¸º trueï¼Œäºæ˜¯æŒ‰é’®å°±è¢«ç¦ç”¨äº†ã€‚\næ·»åŠ æˆ–åˆ é™¤ disabled è¿™ä¸ª attribute ä¼šç¦ç”¨æˆ–å¯ç”¨è¿™ä¸ªæŒ‰é’®ã€‚ä½† attribute çš„å€¼æ— å…³ç´§è¦ï¼Œè¿™å°±æ˜¯ä½ ä¸ºä»€ä¹ˆæ²¡æ³•é€šè¿‡ `<button disabled="false">ä»è¢«ç¦ç”¨</button>` è¿™ç§å†™æ³•æ¥å¯ç”¨æŒ‰é’®ã€‚\nè®¾ç½®æŒ‰é’®çš„ disabled è¿™ä¸ª propertyï¼ˆå¦‚ï¼Œé€šè¿‡ Angular ç»‘å®šï¼‰å¯ä»¥ç¦ç”¨æˆ–å¯ç”¨è¿™ä¸ªæŒ‰é’®ã€‚ è¿™å°±æ˜¯ property çš„ä»·å€¼ã€‚\nå°±ç®—åå­—ç›¸åŒï¼ŒHTML attribute å’Œ DOM property ä¹Ÿä¸æ˜¯åŒä¸€æ ·ä¸œè¥¿ã€‚\n\næ‘˜å–è‡ªangularä¸­æ–‡å®˜ç½‘ [åŸæ–‡é“¾æ¥](https://www.angular.cn/guide/template-syntax#html-attribute-vs-dom-property )\n\nçœ‹å®Œæœ‰ç‚¹æ‡µ æœ‰æœ¨æœ‰ã€‚\n** soï¼Œä¸Šé‡ç‚¹**\n\n**Attributeç‰¹æ€§ç”±Htmlå®šä¹‰ï¼Œæ‰€æœ‰å‡ºç°åœ¨HTMLæ ‡ç­¾å†…çš„æè¿°èŠ‚ç‚¹éƒ½æ˜¯attributeç‰¹æ€§ã€‚**\n\n**Propertyå±æ€§å±äºDomå¯¹è±¡ï¼ŒDOMå®è´¨å°±æ˜¯javascriptä¸­çš„å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥è·Ÿåœ¨jsä¸­æ“ä½œæ™®é€šå¯¹è±¡ä¸€æ ·è·å–ã€è®¾ç½®DOMå¯¹è±¡çš„å±æ€§ï¼Œå¹¶ä¸”propertyå±æ€§å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚**\n\n\n',
        NULL, 1, 1, 416, 0, 0, 5, '2019-07-14 07:11:23', NULL, 1, 1),
       (1288, 'ğŸ’”', 'æˆ‘ä»¬ç”Ÿæ´»åœ¨æœ€å¥½çš„å¹´çºªï¼Œä¹Ÿç”Ÿæ´»åœ¨æœ€ç³Ÿçš„å¹´çºªã€‚\n', '*æˆ‘ä»¬ç”Ÿæ´»åœ¨æœ€å¥½çš„å¹´çºªï¼Œä¹Ÿç”Ÿæ´»åœ¨æœ€ç³Ÿçš„å¹´çºªã€‚*', NULL, 1, 1, 359, 0, 0, 1,
        '2019-09-17 10:27:12', NULL, 1, 0),
       (1289, 'ç”µå½±æ¨è ã€Šå¹¸ç¦ç»ˆç‚¹ç«™ã€‹',
        'å¹¸ç¦ç»ˆç‚¹ç«™\n\nå‰§æƒ…ç®€ä»‹\n\nã€€ã€€ä¸ºäº†å®Œæˆçˆ¶äº²çš„å¿ƒæ„¿ï¼Œç»´å…‹å¤šï¼ˆæ±¤å§†â€¢æ±‰å…‹æ–¯ Tom Hanks é¥°ï¼‰ä»æ•…å›½ä¹˜åé£æœºå‰å¾€ç¾å›½è‚¯å°¼è¿ªæœºåœºï¼Œä½†æˆå‰§æ€§çš„äº‹æƒ…å‘ç”Ÿäº†ï¼šä»–è¢«å‘ŠçŸ¥ç¥–å›½å‘ç”Ÿæ”¿å˜ï¼Œè€Œä»–çš„èº«ä»½è¯æŠ¤ç…§ä¸€ä¸€å¤±æ•ˆï¼ŒåŒæ—¶ä»–çš„ç­¾è¯ä¹Ÿæ— æ³•å†ä½¿ç”¨ã€‚è¿›é€€ä¸¤éš¾çš„ç»´å…‹å¤šåªæœ‰åœ¨æœºåœºæ»ç•™ï¼Œç­‰å¾…æ–°è¯ä»¶çš„åŠç†ã€‚ã€€ã€€ä½†æ˜¯ï¼Œä»–åœ¨æœºåœºç­‰å¾…äº†æ•´æ•´9ä¸ªæœˆã€‚åœ¨è¿™9ä¸ªæœˆé‡Œé¢ï¼Œä»–ç”¨æœºåœºçš„æ´—æ‰‹é—´æ´—æ¼±ï¼Œåœ¨å€™æœºå®¤ç¡è§‰......',
        '# å¹¸ç¦ç»ˆç‚¹ç«™\n<div style="text-align: center;">![å¹¸ç¦ç»ˆç‚¹ç«™](http://cdn.celess.cn/img_1568994073154.jpg)</div>\n## å‰§æƒ…ç®€ä»‹\n> ã€€ã€€ä¸ºäº†å®Œæˆçˆ¶äº²çš„å¿ƒæ„¿ï¼Œç»´å…‹å¤šï¼ˆæ±¤å§†â€¢æ±‰å…‹æ–¯ Tom Hanks é¥°ï¼‰ä»æ•…å›½ä¹˜åé£æœºå‰å¾€ç¾å›½è‚¯å°¼è¿ªæœºåœºï¼Œä½†æˆå‰§æ€§çš„äº‹æƒ…å‘ç”Ÿäº†ï¼šä»–è¢«å‘ŠçŸ¥ç¥–å›½å‘ç”Ÿæ”¿å˜ï¼Œè€Œä»–çš„èº«ä»½è¯æŠ¤ç…§ä¸€ä¸€å¤±æ•ˆï¼ŒåŒæ—¶ä»–çš„ç­¾è¯ä¹Ÿæ— æ³•å†ä½¿ç”¨ã€‚è¿›é€€ä¸¤éš¾çš„ç»´å…‹å¤šåªæœ‰åœ¨æœºåœºæ»ç•™ï¼Œç­‰å¾…æ–°è¯ä»¶çš„åŠç†ã€‚\nã€€ã€€ä½†æ˜¯ï¼Œä»–åœ¨æœºåœºç­‰å¾…äº†æ•´æ•´9ä¸ªæœˆã€‚åœ¨è¿™9ä¸ªæœˆé‡Œé¢ï¼Œä»–ç”¨æœºåœºçš„æ´—æ‰‹é—´æ´—æ¼±ï¼Œåœ¨å€™æœºå®¤ç¡è§‰ï¼Œä»–å·²ç»å­¦æ‡‚å› åœ°åˆ¶å®œï¼Œåœ¨æœºåœºç…§æ–™è‡ªå·±çš„ç”Ÿæ´»ï¼Œç”šè‡³è¿˜æ‰¾äº†ä¸€ä»½å»ºç­‘å·¥åœ°å·¥ä½œã€‚ç„¶è€Œç»´å…‹å¤šçš„é‚‹é¢æ™¦æ°”å´æ‹›æ¥äº†æœºåœºè´Ÿè´£äººå¼—å…°å…‹ï¼ˆå²å¦åˆ©â€¢å›¾é½ Stanley Tucci é¥°ï¼‰çš„ä¸æ»¡ï¼Œè€Œææ€•æ›´ä»¤ä»–æ°”æ„¤å¦’å¿Œçš„æ˜¯ï¼Œç¾ä¸½çš„ç©ºå§è‰¾ç±³åˆ©äºšï¼ˆå‡¯ç‘Ÿç³â€¢æ³½å¡”-ç¼æ–¯ Catherine Zeta-Jones é¥°ï¼‰ç«Ÿç„¶çˆ±ä¸Šäº†ç»´å…‹å¤šã€‚å¤„åœ¨ç”œèœœä¸­çš„ç»´å…‹å¤šï¼Œä¹Ÿåœ¨æ…¢æ…¢è§‚å¯Ÿæœºåœºçš„äººç”Ÿç™¾æ€ï¼Œè‡ªå¾—å…¶ä¹\n ----è±†ç“£\n \n## æ•…äº‹åŸå‹\n\nä¸Šä¸–çºª70å¹´ä»£ï¼Œèº«ä¸ºè‹±ä¼Šæ··è¡€å„¿çš„çº³ç‘Ÿé‡Œä»è‹±å›½åæ ¡å¸ƒæ‹‰å¾·ç¦å¤§å­¦æ¯•ä¸šï¼Œå¹¶åœ¨æµ·å¤–å‚ä¸äº†åå¯¹è‡ªå·±å›½å®¶ä¼Šæœ—çš„ç¤ºå¨æ¸¸è¡Œã€‚ç»“æœäº1977å¹´è¢«ä¼Šæœ—å¼€é™¤å›½ç±ï¼Œæ­¤åä¸å¾—ä¸æŒä¸´æ—¶éš¾æ°‘ç­¾è¯æµäº¡åˆ°æ¬§æ´²ã€‚1988å¹´ï¼Œçº³ç‘Ÿé‡Œåœ¨å‰å¾€æˆ´é«˜ä¹æœºåœºçš„åœ°é“ä¸­ï¼Œçš®åŒ…è¢«ç›—ï¼Œä¸¢å¤±äº†åŒ…æ‹¬éš¾æ°‘ç­¾è¯åœ¨å†…çš„æ‰€æœ‰èƒ½è¯æ˜å…¶èº«ä»½çš„è¯ä»¶ï¼Œæ³•å›½å½“å±€è™½ç„¶åŒæ„å…¶ç•™åœ¨æœºåœºï¼Œä½†å´ä¸å…è®¸ä»–ç¦»å¼€èˆªç«™å¤§å¦ã€‚å°½ç®¡7å¹´åï¼Œçº³å¡ç‘æ‹¿åˆ°éš¾æ°‘æ–‡ä»¶ï¼Œå¯ä»¥è‡ªç”±ç¦»å»ï¼Œä½†ä»–å´ä»ç„¶ä¸æ„¿ç¦»å¼€ï¼Œä»–è®¤ä¸ºè‡ªå·±è‹¥ç¦»å¼€æˆ´é«˜ä¹æœºåœºï¼Œå°±ä¼šè¢«é€®æ•ï¼Œç›®å‰ä»–ä»ç„¶åœ¨ç­‰å¾…ä¸€æ¶æ°¸è¿œä¸ä¼šåˆ°æ¥çš„é£æœºã€‚å¯¹äºé€šè¿‡å€™æœºå…å»å¾€ä¸–ç•Œå„åœ°çš„é£è¡Œå‘˜ã€æœºåœºèŒå‘˜ã€å¿«é¤å•†å’Œåƒç™¾ä¸‡ä¹˜å®¢æ¥è¯´ï¼Œ58å²çš„çº³å¡ç‘å·²ç»æˆäº†ä¸€ä¸ªåç°ä»£çš„æ ‡å¿—ï¼Œå¦‚ä»Šä»–åˆæˆä¸ºå¥½è±åå¼ç¬¦å·ä¸­çš„ä¸€å‘˜ã€‚çº³å¡ç‘çš„æ•…äº‹æ¿€èµ·äº†å²è’‚æ–‡Â·æ–¯çš®å°”ä¼¯æ ¼çš„åˆ›ä½œæ¿€æƒ…ï¼Œä»–ä¹°ä¸‹äº†çº³å¡ç‘ä¼ å¥‡ç»å†çš„æ”¹ç¼–æƒï¼Œå¹¶å°†ä¸æ±¤å§†Â·æ±‰å…‹æ–¯åˆä½œæ‹æ‘„äº†è¿™éƒ¨ã€Šå¹¸ç¦ç»ˆç‚¹ç«™ã€‹ã€‚çº³å¡ç‘çš„æ•…äº‹åªæ˜¯æ¿€å‘äº†æ–¯çš®å°”ä¼¯æ ¼çš„çµæ„Ÿï¼Œç”µå½±æ‰€è¦è®²è¿°çš„å¹¶ä¸æ˜¯ä»–çš„æ•…äº‹ã€‚å¥½ç¬‘çš„æ˜¯ï¼Œçº³å¡ç‘ä¹Ÿè®¸æ˜¯ä¸–ç•Œä¸Šå”¯ä¸€ä¸€ä¸ªå³å°†è¢«æ–¯çš®å°”ä¼¯æ ¼å½“æˆç”µå½±ç´ æå´ä¸çŸ¥é“æ–¯çš®å°”ä¼¯æ ¼æ˜¯è°çš„äººï¼Œé—®èµ·ä»–è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œçº³å¡ç‘ä¸€è„¸çš„èŒ«ç„¶ï¼šâ€œä»–æ˜¯æ—¥æœ¬äººå—ï¼Ÿâ€â€œæˆ‘çŸ¥é“æˆ‘ç°åœ¨å·²ç»æ˜¯ä¸ªåäººäº†ï¼Œè¿™æ˜¯æˆ‘æœªåˆ°å·´é»ä¹‹å‰ä»æœªä½“ä¼šè¿‡çš„ä¸€ç§æ„Ÿè§‰ã€‚â€çº³å¡ç‘ä¸æ— è‡ªè±ªçš„ç”¨ä»–é‚£ç§è½¯è½¯çš„æ³¢æ–¯è¯­å‘Šè¯‰æˆ‘ä»¬ã€‚å› ä¸ºå¸¸å¹´æ— æ³•è§åˆ°é˜³å…‰ï¼Œçº³å¡ç‘æ˜¾å¾—ååˆ†è‹ç™½ï¼Œä»–æœ€è¿‘ä¸€æ¬¡çœ‹åˆ°é˜³å…‰æ˜¯åœ¨1999å¹´ã€‚ä»–è¯´ï¼šâ€œæˆ‘å¾ˆä¸å¿«ä¹ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ç§ç”Ÿæ´»å¯è¨€ã€‚â€æƒ³è¦å°†çº³å¡ç‘çš„æ•…äº‹æ‹¼å‡‘åˆ°ä¸€èµ·æ˜¯ä¸€ä»¶å¾ˆå›°éš¾çš„äº‹æƒ…ï¼Œå› ä¸ºä»–å¯¹ä¸€ä»¶äº‹æƒ…æ€»æœ‰ä¸åŒçš„æè¿°ã€‚ä¸¤å¹´å‰ï¼Œä»–æ›¾ç»å‘Šè¯‰åª’ä½“è”åˆå›½éš¾æ°‘ç½²çš„é«˜çº§ä¸“å‘˜ä¸€ç›´åœ¨æ‰¾å¯»ä»–çš„çˆ¶æ¯ä»¥è¯æ˜ä»–çš„éš¾æ°‘èº«ä»½ï¼Œä½†æ˜¯æŸä½å‘è¨€äººè¯´æ­¤è¯çº¯å±æ— ç¨½ä¹‹è°ˆã€‚çº³å¡ç‘ä¸€ç›´ç§°è‡ªå·±äº1977å¹´å› å‚ä¸åæ”¿åºœæ´»åŠ¨è€Œé­åˆ°æµæ”¾ï¼Œå…¶é©±é€ç½ªåä¸ºåå¯¹ä¼Šæœ—ç‹é»˜å“ˆè¿ˆå¾·Â·ç¤¼è¨Â·å·´åˆ—ç»´çš„ç»Ÿæ²»ã€‚ä»–æ›¾ç»æŒä¸´æ—¶çš„éš¾æ°‘ç­¾è¯è¾—è½¬äºæ¬§æ´²å„å›½ï¼Œ1981å¹´ï¼Œçº³å¡ç‘åœ¨æ¯”åˆ©æ—¶è·å¾—äº†æ­£å¼çš„éš¾æ°‘ç­¾è¯ã€‚è¿™ä¹‹åï¼Œä»–å¾€è¿”äºè‹±å›½å’Œæ³•å›½ä¹‹é—´ï¼Œä¸€ç›´æ²¡æœ‰ç¢°åˆ°ä»»ä½•éº»çƒ¦ã€‚ç›´åˆ°1988å¹´ï¼Œçº³å¡ç‘åœ¨å»å¾€æˆ´é«˜ä¹æœºåœºçš„åœ°é“ä¸­ä¸¢å¤±äº†è¯æ˜ä»–èº«ä»½çš„éš¾æ°‘ç­¾è¯å’Œä¸€åˆ‡è¯ä»¶ã€‚ä»–æ— æ³•è¯æ˜è‡ªå·±çš„èº«ä»½ï¼Œæ‰€ä»¥ä¸å¾—ä¸æ»ç•™äºæœºåœºçš„å€™æœºå¤§å…ï¼Œè€Œè¿™ä¸€å‘†å°±æ˜¯10å¤šå¹´ã€‚ä¸è®ºå¦‚ä½•ï¼Œåªè¦æ˜¯åœ¨æˆ´é«˜ä¹æœºåœºè¿‡å¢ƒæ—…å®¢ï¼Œéƒ½ä¼šè¦ä¸€å¼ çº³å¡ç‘çš„ç…§ç‰‡ç•™å¿µã€‚æœºåœºå½“å±€ä¹Ÿå°½å¯èƒ½è®©çº³å¡ç‘ä½å¾—èˆ’é€‚ä¸€äº›ã€‚æœºåœºæ‰€æœ‰çº¢è‰²å¡‘èƒ¶æ¤…æœ€è¿‘éƒ½æ‹¿æ‰äº†ï¼Œåªæœ‰çº³å¡ç‘ç¡çš„é‚£å¼ ç•™äº†ä¸‹æ¥ã€‚æœºåœºé™„è¿‘çš„å•†å®¶ç”šè‡³å‘èµ·äº†â€œç•™ä¸‹çº³å¡ç‘â€è¿åŠ¨ã€‚å› ä¸ºæœ‰äººåˆ›ä¸‹å…¨ä¸–ç•Œåœç•™åœ¨æœºåœºæœ€é•¿æ—¶é—´çš„çºªå½•ï¼Œå¯¹ç”Ÿæ„åªæœ‰å¥½å¤„ï¼Œæ²¡æœ‰åå¤„ã€‚06å¹´8æœˆï¼Œçº³å¡ç‘å› å¥åº·é—®é¢˜ç¦»å¼€æœºåœºï¼Œåˆ°åŒ»é™¢æ¥å—æ²»ç–—ã€‚\n\næ¬ä¸Šè§å±åï¼Œåšäº†å¾ˆå¤šè‰ºæœ¯åŠ å·¥ï¼Œä»–æ‰¾å·¥ä½œå½“ç²‰åˆ·åŒ ï¼Œæ•‘äº†ä¸€åè‡ªå·±å›½å®¶çš„åŒèƒï¼Œç”šè‡³è¢«ç¾ä¸½çš„ç©ºå§è‰¾ç±³åˆ©äºšçˆ±ä¸Šï¼Œå±…ç„¶èƒ½å·¥å·§åŒ æŠŠå•æ‰€å°ä¾¿æ± æ‹†äº†ï¼Œåšäº†ä¸€ä¸ªå½“å¹´æ‹¿ç ´ä»‘é€ç»™æƒ…äººçš„çš‡å† å®åº§ï¼Œæœ€åå®Œæˆçˆ¶äº²çš„å¤™æ„¿ï¼Œå®‰ç„¶å›å›½\n\n## ç”Ÿå‘½ä¾¿æ˜¯ç­‰å¾…--Life Is Waiting\n>  è±†ç“£ç”¨æˆ·  [Helen Li](https://www.douban.com/people/helen_bitw/ "Helen Li")çš„å½±è¯„\n\nä¸€ä¸ªæ¥è‡ªä¸œæ¬§æœ€å°å›½å®¶çš„Viktorï¼Œå»ç¾å›½å¸®çˆ¶äº²å®ç°ä¸€ä¸ªæœªäº†çš„å¤™æ„¿ã€‚ä»é£æœºèµ·é£åˆ°åœ¨è‚¯å°¼è¿ªæœºåœºè½åœ°çš„è¿™ä¸€æ®µæ—¶é—´ï¼Œä»–çš„å›½å®¶å‘ç”Ÿæ”¿å˜ï¼ŒViktorå› æ­¤çªç„¶æˆä¸ºäº†æ²¡æœ‰å›½ç±çš„äººï¼Œæ— æ³•å…¥å¢ƒï¼Œä¹Ÿæ— ä»å‡ºå¢ƒï¼›çºµç„¶çº½çº¦å’Œç¾å›½å°±åœ¨æ•°ç±³ä¹‹é¥çš„é—¨å¤–ï¼Œä»–ä»ç„¶åªèƒ½ç­‰åœ¨å€™æœºå¤§å…é‡Œï¼Œç›´åˆ°èº«ä»½æ˜ç¡®ã€‚\n\nè¿™ä¸€ç­‰ï¼Œä¾¿æ˜¯9ä¸ªæœˆã€‚\n\nåœ¨è¿™9ä¸ªæœˆçš„ç­‰å¾…ä¸­ï¼ŒViktorä¸€ç‚¹æ²¡æœ‰è™šåº¦ï¼›ä»–åœ¨å¾…æ”¹å»ºçš„67å·ç™»æœºå£ç»™è‡ªå·±é€ äº†ä¸€ä¸ªå®¶ï¼›é ç€è‡ªå·±çš„æ™ºæ…§ï¼Œå¸®äº†ä¸€ä¸ªä¹°è¯æ•‘çˆ¶çš„ä¿„ç½—æ–¯äººï¼Œæ’®åˆäº†ä¸€æ®µå§»ç¼˜ï¼Œé‚‚é€…äº†ä¸€æ®µæµªæ¼«ï¼Œå¾æœäº†ä¸€ç¾¤åŸæœ¬æ‹¿ä»–å½“ç¬‘è¯çš„äººï¼›å½“ä»–ç¦»å»çš„æ—¶å€™ï¼Œè¿™ä¸ªåˆæ—¶è¯­è¨€ä¸é€šçš„ä¸œæ¬§äººï¼Œå·²ç»è®©æ•´ä¸ªæœºåœºä¸ºä¹‹æ„ŸåŠ¨ã€‚\n\n138åˆ†é’Ÿçš„ç‰‡å­ï¼Œ é™¤äº†æœ€åçš„å‡ åˆ†é’Ÿï¼Œå‡ ä¹éƒ½æµ“ç¼©åœ¨æå…¶æœ‰é™çš„ä¸€ä¸ªå°ç©ºé—´é‡Œ---è‚¯å°¼è¿ªæœºåœºå€™æœºå¤§å…ã€‚åœ¨è¿™ä¸ªæœ‰é™çš„ç©ºé—´é‡Œï¼Œå½¢å½¢è‰²è‰²çš„äººä»¬ï¼ŒæŠŠæ—¶é—´å»¶å±•ï¼›ä»–ä»¬åšç€ä¸åŒçš„å·¥ä½œï¼Œå´åœ¨åšç€åŒä¸€ä»¶äº‹æƒ…---ç­‰å¾…ï¼š\næŠ˜è…¾ç€Viktorçš„æµ·å…³å±€é•¿Frankï¼Œç­‰å¾…ç€è€å±€é•¿å¸ä»»ï¼Œç­‰äº†17å¹´ï¼›\nGuptaï¼Œå› ä¸ºåœ¨å°åº¦çŠ¯äº†æ¡ˆè¢«é€šç¼‰ï¼Œé€ƒåŒ¿åœ¨æœºåœºåšä¸€ä¸ªæ¸…æ´å·¥ï¼Œä¸€åš23å¹´ï¼Œè€Œä»–æˆ–è®¸å¹¶æ²¡æœ‰æ„è¯†åˆ°è‡ªå·±åœ¨ç­‰å¾…ã€‚\nç¾å¥³ç©ºå§Ameliaï¼Œä»18å²åˆ°39å²ï¼Œç­‰ç€ç”·äººçš„ä¸€ä¸ªæ‰¿è¯ºï¼›å¥¹æ€»æ˜¯ä½é…’åº—ï¼Œä¸ºçš„å°±æ˜¯ç”·äººçš„BPå“èµ·æ—¶ï¼Œèƒ½å¤Ÿéšæ—¶æ‰“åŒ…èµ·èº«ã€‚\nå¼€é¤è½¦çš„Enriqueï¼Œç­‰ç€ä¸€ä¸ªæœºä¼šå‘æš—æ‹çš„å¥³å­©é è¿‘ï¼›\nViktorçš„çˆ¶äº²ï¼Œç”¨äº†40å¹´ï¼Œæ”¶é›†äº†57ä½çˆµå£«é«˜æ‰‹ä¸­çš„56ä¸ªç­¾åï¼Œä»–åœ¨ä¹æ³‰ä¹‹ä¸‹ï¼Œç­‰ç€å„¿å­å¸®ä»–åœ†ä¸Šæœ€åä¸€ä¸ªç­¾åã€‚\nç”šè‡³è¿æœºåœºå¤§å…é‡Œçš„èƒŒæ™¯ä¸­çš„å„è‰²äººç­‰ï¼Œä¹Ÿéƒ½åœ¨å„è‡ªç­‰å¾…....\n\nä¸æ˜¯æ¯ä¸€ä¸ªç­‰å¾…ï¼Œéƒ½ä¼šå¾ˆå¿«å°±æœ‰ç»“æœï¼Œè­¬å¦‚é‚£äº›åœ¨æµ·å…³ç­‰ç€é€šå…³çš„äººä»¬ï¼Œè¿™ä¸ªç­‰å¾…ï¼Œåªéœ€è¦1åˆ†é’Ÿè€Œå·²ï¼›\nä¹Ÿä¸æ˜¯æ¯ä¸€ä¸ªç­‰å¾…ï¼Œéƒ½ä¼šæœ‰ç¾ä¸½çš„ç»“å±€ï¼Œå¦‚åŒæŠ±å¾—ç¾äººå½’çš„Anï¼›\nå³ä½¿æ¯ä¸€ä¸ªç¾å¥½çš„ç»“å±€ï¼Œä¹Ÿéƒ½ä¸ä¸€å®šéƒ½æœ‰ç¾ä¸½çš„è¿‡ç¨‹ï¼Œå¥½åƒViktorã€‚\n\nSpielbergè¯´ï¼Œæˆ‘ä»¬æ¯ä¸ªäººéƒ½å¦‚Viktorä¸€æ ·ï¼Œåœ¨è¿™å……æ»¡å˜æ•°çš„äººç”Ÿä¸­ï¼Œæˆ–è®¸åœ¨æŸä¸€ä¸ªç¬é—´éƒ½ä¼šè¿·èŒ«ï¼Œç„¶åå»å¯»æ‰¾å»ç­‰å¾…ï¼›è€ŒTom Hanksè¯´ï¼Œâ€œViktorç»ˆäºæ˜ç™½ï¼Œè¿™ä¸ªä¸–ç•Œä¸æ˜¯æŒ‰ä»–è‡ªå·±çš„æ–¹å¼å‰è¿›çš„ï¼›èº«å¤„å…¶ä¸­ï¼Œåªæœ‰ä¸ºè‡ªå·±æŒ£ä¸ªå¥½ç”Ÿæ´»ã€‚â€\n\nä¸çŸ¥é“ä½œå®¶Andrew Niccolåœ¨å†™è¿™ä¸ªå°äººç‰©æ—¶ï¼Œæ˜¯ä¸æ˜¯æƒ³ç€ä¸€ä½å«åšViktor E Franklçš„äººã€‚è¿™ä½é¥±å°çº³ç²¹é›†ä¸­è¥ç§ç§è‰°è¾›çš„å¹¸å­˜è€…è¿™æ ·è¯´ï¼Œâ€œåœ¨ä»»ä½•ç‰¹å®šçš„ç¯å¢ƒä¸­ï¼Œäººä»¬è¿˜æœ‰ä¸€ç§æœ€åçš„è‡ªç”±ï¼Œå°±æ˜¯é€‰æ‹©è‡ªå·±çš„æ€åº¦ã€‚â€å½±ç‰‡ä¸­çš„Viktorï¼Œä¸æ˜¯å¿ƒç†å­¦è€…ï¼Œä¹Ÿä¸æ˜¯æˆåŠŸå­¦å®¶ï¼Œä»–åªæ˜¯åœ¨é‚£æ ·ä¸€ä¸ªæ— ä»é€‰æ‹©çš„ç¯å¢ƒé‡Œï¼Œåœ¨ä»–é‚£å¼ æ†¨åšçš„ç¬‘è„¸é‡Œï¼Œåœ¨ä¸ƒé›¶å…«è½ä»¤äººæ§è…¹çš„è‹±è¯­ä¸­ï¼Œä¸€è¿ä¸²ä»¤æˆ‘ä»¬å¿ä¿Šä¸ç¦çš„å°äº‹ä¸­ï¼Œå±•ç°ç»™æˆ‘ä»¬å¦‚ä½•ä¹å¤©çŸ¥å‘½ï¼Œå¦‚ä½•å¿ƒå­˜è‰¯å–„ï¼Œå¦‚ä½•åŠªåŠ›çš„è®©è‡ªå·±ç¦»ç»“æœæ›´è¿‘ä¸€æ­¥ã€‚è€Œå…¶é—´çš„æ·±æ„ï¼Œä¸Viktor Franklçš„è¡¨è¾¾ï¼Œå¼‚æ›²åŒå·¥ã€‚\n\nè¿™éƒ¨Spielbergå¯¼æ¼”ï¼ŒTom Hankså’ŒCatherine Zeta Jonesä¸»æ¼”çš„ç‰‡å­ï¼Œæ®ç§°ç¥¨æˆ¿å¹¶ä¸ç†æƒ³ã€‚è€å®è¯´ï¼Œè¿™éƒ¨ç‰‡å­çš„ç¡®æ¼æ´ä¸å°‘ï¼Œç»“å°¾ä¹Ÿå¤šå°‘æœ‰ç‚¹ç”»è›‡æ·»è¶³ï¼›å¯æ˜¯ï¼Œè¿™3ä¸ªäººçš„ç»„åˆï¼Œå´è®©è¿™ä¸€æ­¥çœ‹ä¼¼ä¿—å¥—çš„ç‰‡å­æ— é™é²œæ´»ï¼Œç”šè‡³é‚£ä¸€ä¸ªä¸ªä¸èµ·çœ¼çš„å°äººç‰©ï¼Œä¹Ÿéƒ½åˆ»ç”»å¾—ä¸ªæ€§é²œæ˜ï¼Œä»¤äººéš¾å¿˜ã€‚çºµç„¶è¿™ä¸æ˜¯ä½ æ‰€ç†Ÿæ‚‰çš„æ–¯æ°å¤§ç‰‡ï¼Œä½ ä»ç„¶å¯ä»¥ä»ä¸­çœ‹åˆ°æ¸…æ™°çš„æ–¯æ°çƒ™å°---å¤©é©¬è¡Œç©ºç”šè‡³æ»¡æ€€ç«¥å¿ƒçš„æƒ³è±¡ä»¥åŠå¯¹äººæ€§çš„é«˜è°ƒå®£æ‰¬ã€‚\n\nä½ æˆ–è®¸å¯ä»¥è§‰å¾—è¿™æ˜¯å¥½è±åçš„ä¿—å¥—ï¼Œå¯æ˜¯ï¼Œæˆ‘å°±æ˜¯å–œæ¬¢åœ¨å¤–é¢åˆ®ç€é£çš„å¤œæ™šï¼ŒæŠ±ç€å°ç“œå­ï¼Œçœ‹ä¸€å‡ºå……æ»¡æ¸©æš–æƒ…è°ƒå’Œè½»æ¾å¹½é»˜ï¼Œå¹¶å……æ»¡â€œä¸ªäººè‹±é›„â€å’Œæ¯«æ— æ–°æ„çš„â€œHappy Endingâ€çš„è½»å–œå‰§ã€‚ç„¶åï¼Œç¬‘ä¸­å«æ³ªï¼Œè‹¥æœ‰æ‰€å¾—ã€‚\n\nP.S.ï¼šåæ¥åœ¨æµ·æŠ¥é‡Œï¼Œçœ‹åˆ°è¿™éƒ¨ç‰‡å­çš„TagLineæ˜¯â€œLife Is Waitingâ€ï¼›ç¦ä¸ä½ä¼šå¿ƒä¸€ç¬‘ã€‚\n\n2011-12-27\nå¿«6å¹´äº†ï¼Œæ²¡æƒ³åˆ°è¿™éƒ¨ç‰‡å­å¼•å‘äº†å¤§å®¶å¦‚æ­¤å¤šçš„æ„Ÿæ…¨ã€‚æˆ–è®¸ä¸–äº‹å……æ»¡æ— å¥ˆï¼ŒLife is waitingå¤šå°‘æœ‰äº†äº›æ…°è—‰çš„æ„å‘³å§ã€‚ å›å¤´å†çœ‹ï¼Œå…¶å®å½“å¹´ä¹Ÿæœªå¾—çœŸè°›ã€‚è™½ç„¶å½±ç‰‡çš„taglineæ˜¯Life is waitingï¼Œè€Œæ‰€æœ‰çš„ç»“æœå¹¶ä¸æ˜¯ç©ºç©ºç­‰æ¥çš„ã€‚æ‰€è°“çš„ç­‰å¾…ï¼Œå…¶å®æ˜¯æŒ‡æˆ‘ä»¬åœ¨åŠªåŠ›çš„åŒæ—¶ï¼Œå¿…é¡»ä»˜å‡ºä¸€äº›patient capitalï¼ˆè€å¿ƒèµ„æœ¬ï¼‰ã€‚è²Œä¼¼ç­‰å¾…ï¼Œè€Œä¸–äº‹çš„å¸ƒå±€åœ¨æˆ‘ä»¬çš„å¿ƒåŠ¨å’Œè¡ŒåŠ¨é—´å·²ç„¶è½¬æ¢ã€‚æ–°å¹´ä¹‹é™…ï¼Œç¥å„ä½â€œç­‰å¾…â€ç»ˆæˆæ­£æœï¼›è‹¥å°šæœªè§ç¯ç«ï¼Œjust hang in there: )\n',
        NULL, 1, 1, 357, 0, 0, 6, '2019-09-19 08:12:29', '2019-09-20 15:42:03', 1, 0),
       (1290, 'NIOçš„å­¦ä¹ æ€»ç»“',
        'NIOå’ŒBIO\n[TOC]\nä»€ä¹ˆæ˜¯NIOä»¥åŠå…¶ä¸ä¼ ç»ŸIOçš„åŒºåˆ«\nNIOå³éé˜»å¡I/O(Non-Blocking I/O)ï¼ŒNIOå’Œä¼ ç»ŸIOï¼ˆä¸€ä¸‹ç®€ç§°IOï¼‰ä¹‹é—´ç¬¬ä¸€ä¸ªæœ€å¤§çš„åŒºåˆ«æ˜¯ï¼ŒIOæ˜¯é¢å‘æµçš„ï¼ŒNIOæ˜¯é¢å‘ç¼“å†²åŒºçš„ã€‚java IOé¢å‘æµæ„å‘³ç€æ¯æ¬¡ä»æµä¸­è¯»ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œç›´è‡³è¯»å–æ‰€æœ‰å­—èŠ‚ï¼Œå®ƒä»¬æ²¡æœ‰è¢«ç¼“å­˜åœ¨ä»»ä½•åœ°æ–¹ã€‚æ­¤å¤–ï¼Œå®ƒä¸èƒ½å‰åç§»åŠ¨æµä¸­çš„æ•°æ®ã€‚å¦‚æœéœ€è¦å‰åç§»åŠ¨ä»æµä¸­è¯»å–çš„æ•°æ®......',
        '# NIOå’ŒBIO\n\n[TOC]\n\n## ä»€ä¹ˆæ˜¯NIOä»¥åŠå…¶ä¸ä¼ ç»ŸIOçš„åŒºåˆ«\n\nNIOå³éé˜»å¡I/O(Non-Blocking I/O)ï¼ŒNIOå’Œä¼ ç»ŸIOï¼ˆä¸€ä¸‹ç®€ç§°IOï¼‰ä¹‹é—´ç¬¬ä¸€ä¸ªæœ€å¤§çš„åŒºåˆ«æ˜¯ï¼ŒIOæ˜¯é¢å‘æµçš„ï¼ŒNIOæ˜¯é¢å‘ç¼“å†²åŒºçš„ã€‚java IOé¢å‘æµæ„å‘³ç€æ¯æ¬¡ä»æµä¸­è¯»ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œç›´è‡³è¯»å–æ‰€æœ‰å­—èŠ‚ï¼Œå®ƒä»¬æ²¡æœ‰è¢«ç¼“å­˜åœ¨ä»»ä½•åœ°æ–¹ã€‚æ­¤å¤–ï¼Œå®ƒä¸èƒ½å‰åç§»åŠ¨æµä¸­çš„æ•°æ®ã€‚å¦‚æœéœ€è¦å‰åç§»åŠ¨ä»æµä¸­è¯»å–çš„æ•°æ®ï¼Œéœ€è¦å…ˆå°†å®ƒç¼“å­˜åˆ°ä¸€ä¸ªç¼“å†²åŒºã€‚NIOçš„ç¼“å†²å¯¼å‘æ–¹æ³•ç•¥æœ‰ä¸åŒã€‚æ•°æ®è¯»å–åˆ°ä¸€ä¸ªå®ƒç¨åå¤„ç†çš„ç¼“å†²åŒºï¼Œéœ€è¦æ—¶å¯åœ¨ç¼“å†²åŒºä¸­å‰åç§»åŠ¨ã€‚è¿™å°±å¢åŠ äº†å¤„ç†è¿‡ç¨‹ä¸­çš„çµæ´»æ€§ã€‚ä½†æ˜¯ï¼Œè¿˜éœ€è¦æ£€æŸ¥æ˜¯å¦è¯¥ç¼“å†²åŒºä¸­åŒ…å«æ‰€æœ‰æ‚¨éœ€è¦å¤„ç†çš„æ•°æ®ã€‚è€Œä¸”ï¼Œéœ€ç¡®ä¿å½“æ›´å¤šçš„æ•°æ®è¯»å…¥ç¼“å†²åŒºæ—¶ï¼Œä¸è¦è¦†ç›–ç¼“å†²åŒºé‡Œå°šæœªå¤„ç†çš„æ•°æ®ã€‚\n\n## NIOå‡ ä¸ªé‡è¦çš„éƒ¨åˆ†\n\n### 1. Channel\n\n#### ä»‹ç»\n\nChannelï¼ˆé€šé“ï¼‰ï¼šChannelæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å®ƒè¯»å–å’Œå†™å…¥æ•°æ®ã€‚å¯ä»¥æŠŠå®ƒçœ‹åšæ˜¯IOä¸­çš„æµï¼Œä¸åŒçš„æ˜¯ï¼š\n\nChannelæ˜¯åŒå‘çš„ï¼Œæ—¢å¯ä»¥è¯»åˆå¯ä»¥å†™ï¼Œè€Œæµæ˜¯å•å‘çš„\n\nChannelå¯ä»¥è¿›è¡Œå¼‚æ­¥çš„è¯»å†™\n\nå¯¹Channelçš„è¯»å†™å¿…é¡»é€šè¿‡bufferå¯¹è±¡\n\næ­£å¦‚ä¸Šé¢æåˆ°çš„ï¼Œæ‰€æœ‰æ•°æ®éƒ½é€šè¿‡Bufferå¯¹è±¡å¤„ç†ï¼Œæ‰€ä»¥ï¼Œæ‚¨æ°¸è¿œä¸ä¼šå°†å­—èŠ‚ç›´æ¥å†™å…¥åˆ°Channelä¸­ï¼Œç›¸åï¼Œæ‚¨æ˜¯å°†æ•°æ®å†™å…¥åˆ°Bufferä¸­ï¼›åŒæ ·ï¼Œæ‚¨ä¹Ÿä¸ä¼šä»Channelä¸­è¯»å–å­—èŠ‚ï¼Œè€Œæ˜¯å°†æ•°æ®ä»Channelè¯»å…¥Bufferï¼Œå†ä»Bufferè·å–è¿™ä¸ªå­—èŠ‚ã€‚å› ä¸ºChannelæ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥Channelå¯ä»¥æ¯”æµæ›´å¥½åœ°åæ˜ å‡ºåº•å±‚æ“ä½œç³»ç»Ÿçš„çœŸå®æƒ…å†µã€‚\n\nåœ¨Java NIOä¸­çš„Channelä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§ç±»å‹ï¼š\n\n- FileChannelï¼šä»æ–‡ä»¶è¯»å–æ•°æ®çš„\n\n- DatagramChannelï¼šè¯»å†™UDPç½‘ç»œåè®®æ•°æ®\n\n- SocketChannelï¼šè¯»å†™TCPç½‘ç»œåè®®æ•°æ®\n\n- ServerSocketChannelï¼šå¯ä»¥ç›‘å¬TCPè¿æ¥\n\n#### ä¸»è¦ç±»\n\n##### Channelæ¥å£\n\næ‰€æœ‰å…·ä½“channelç±»å‡ç›´æ¥æˆ–é—´æ¥å®ç°äº†æ­¤æ¥å£\n\n```java\npublic boolean isOpen(); // è·å–æ­¤channelæ˜¯å¦æ˜¯å¤„äºæ‰“å¼€çŠ¶æ€\n\npublic void close() throws IOException; // å…³é—­channel ä¸”æœ‰ioé”™è¯¯æŠ›å‡º\n```\n\n##### FileChannelç±»\n\nåœ¨ä½¿ç”¨FileChannelä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰“å¼€å®ƒã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥æ‰“å¼€ä¸€ä¸ªFileChannelï¼Œéœ€è¦é€šè¿‡ä½¿ç”¨ä¸€ä¸ªFileInputStreamã€FileOutputStreamæˆ–RandomAccessFileæ¥è·å–ä¸€ä¸ªFileChannelå®ä¾‹\n\n```java\n protected FileChannel() {\n  } //æœ¬ç±»çš„æ„é€ å™¨ ï¼Œ ä¸å¯è¢«new åªèƒ½ä½¿ç”¨openæ–¹æ³•æˆ–è€…å…¶ä»–çš„ç±»æ–¹æ³•è·å–å®ä¾‹\n\n   /**\n    * ä¸¤ä¸ªopenæ–¹æ³• è¿”å›FileChannelçš„å®ä¾‹å¯¹è±¡\n    * path:è¦æ‰“å¼€æˆ–åˆ›å»ºçš„æ–‡ä»¶çš„è·¯å¾„\n    * optionsï¼šæŒ‡å®šæ–‡ä»¶æ‰“å¼€æ–¹å¼çš„é€‰é¡¹\n    * attrs: åˆ›å»ºæ–‡ä»¶æ—¶è¦è‡ªåŠ¨è®¾ç½®çš„æ–‡ä»¶å±æ€§çš„å¯é€‰åˆ—è¡¨\n    */\n   public static FileChannel open(Path, Set<? extends OpenOption> options, FileAttribute<?>... attrs) throws IOException {/**.......*/}\n   public static FileChannel open(Path, OpenOption... options) throws IOException {/**...*/}\n\n   /**\n    * ä»è¯¥é€šé“è¯»å–ä¸€ä¸ªå­—èŠ‚åºåˆ—åˆ°ç»™å®šçš„ç¼“å†²åŒº\n    */\n   public abstract int read(ByteBuffer dst) throws IOException;\n   public abstract long read(ByteBuffer[] dsts, int offset, int length) throws IOException;\n   public final long read(ByteBuffer[] dsts) throws IOException {    /**.....*/}\n\n   /**\n    * ä»ç»™å®šç¼“å†²åŒºå‘è¯¥é€šé“å†™å…¥ä¸€ä¸ªå­—èŠ‚åºåˆ—ã€‚\n    */\n   public abstract int write(ByteBuffer src) throws IOException;\n   public abstract long write(ByteBuffer[] srcs, int offset, int length) throws IOException;\n   public final long write(ByteBuffer[] srcs) throws IOException {  /**...*/}\n\n   // è·å–å½“å‰channelçš„ä½ç½®\n   public abstract long position() throws IOException;\n\n   // æ ¹æ® newPosition å‚æ•°å¾—åˆ°çš„channel\n   public abstract FileChannel position(long newPosition) throws IOException;\n\n   // è¿”å›æ­¤é€šé“æ–‡ä»¶çš„å½“å‰å¤§å°ã€‚\n   public abstract long size() throws IOException;\n\n   //æˆªæ–­ä¸ºæŒ‡å®šå¤§å°\n   public abstract FileChannel truncate(long size) throws IOException;\n\n   // æ˜¯å¦å¼ºåˆ¶å†™å…¥å­˜å‚¨è®¾å¤‡\n   // å‡ºäºæ€§èƒ½æ–¹é¢çš„è€ƒè™‘ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†æ•°æ®ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ— æ³•ä¿è¯å†™å…¥åˆ°FileChannelé‡Œçš„æ•°æ®ä¸€å®šä¼šå³æ—¶å†™åˆ°ç£ç›˜ä¸Šã€‚è¦ä¿è¯è¿™ä¸€ç‚¹ï¼Œéœ€è¦è°ƒç”¨force()æ–¹æ³•ã€‚force()æ–¹æ³•æœ‰ä¸€ä¸ªbooleanç±»å‹çš„å‚æ•°ï¼ŒæŒ‡æ˜æ˜¯å¦åŒæ—¶å°†æ–‡ä»¶å…ƒæ•°æ®ï¼ˆæƒé™ä¿¡æ¯ç­‰ï¼‰å†™åˆ°ç£ç›˜ä¸Šã€‚\n   public abstract void force(boolean metaData) throws IOException;\n\n   // å°†æ•°æ®ä¼ ç»™æ‰€ç»™çš„Channelä¸­\n   public abstract long transferTo(long position, long count, WritableByteChannel target) throws IOException;\n\n   // å§æ•°æ®ä»æ‰€ç»™Channelä¸­è½¬åˆ°å½“å‰é€šé“\n   public abstract long transferFrom(ReadableByteChannel src, long position, long count) throws IOException;\n\n   // å°†æ­¤Channelä¸­çš„æŸæ®µæ•°æ®æ˜ å°„åˆ°å†…å­˜ä¸­\n   public abstract MappedByteBuffer map(FileChannel.MapMode mode, long position, long size) throws IOException;\n\n   // è·å–æŸä¸ªåŒºåŸŸçš„FileLock(æ–‡ä»¶é”ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨)\n   public abstract FileLock lock(long position, long size, boolean shared) throws IOException;\n   public final FileLock lock() throws IOException {/**.....*/}\n\n   // å°è¯•è·å–FileLockåŒºåŸŸ  \n   public abstract FileLock tryLock(long position, long size, boolean shared) throws IOException;\n\n   // è·å–æ•´ä¸ªæ–‡ä»¶çš„fileLock\n   public final FileLock tryLock() throws IOException {/**...*/}\n\n```\n\n##### DatagramChannelç±»\n\nDatagramChannelæ˜¯ä¸€ä¸ªèƒ½æ”¶å‘UDPåŒ…çš„é€šé“\n\n```java\n   protected DatagramChannel(SelectorProvider provider) //ä¸å¯é€šè¿‡newæ¥è·å–å®ä¾‹å¯¹è±¡\n\n   // è·å–DatagramChannelå®ä¾‹ ProtocolFamily ä¸ºåè®®ç±»å‹ï¼ˆå¯é€‰IPv4ï¼ŒIPv6ï¼‰\n   public static DatagramChannel open() throws IOException { /**....*/}\n   public static DatagramChannel open(ProtocolFamily family) throws IOException {/**...*/}\n\n   // è¿”å›ç¡®å®šæ­¤é¢‘é“æ”¯æŒçš„æ“ä½œçš„æ“ä½œé›†ã€‚\n   public final int validOps() {/**...*/}\n\n   // ç”¨äºsocketçš„æ“ä½œ\n   public abstract DatagramChannel bind(SocketAddress local)throws IOException;\n   public abstract <T> DatagramChannel setOption(SocketOption<T> name, T value)throws IOException;\n   public abstract DatagramSocket socket();// è¿”å›ä¸æ­¤channelæœ‰å…³çš„socket\n   public abstract boolean isConnected();// socketæ˜¯å¦è¿æ¥\n   public abstract DatagramChannel connect(SocketAddress remote)throws IOException;// è¿æ¥socket\n   public abstract DatagramChannel disconnect() throws IOException;// å…³é—­è¿æ¥\n   public abstract SocketAddress getRemoteAddress() throws IOException;// è·å–å·²è¿æ¥çš„socketçš„åœ°å€\n   public abstract SocketAddress receive(ByteBuffer dst) throws IOException;// æ¥å—æ•°æ®\n   public abstract int send(ByteBuffer src, SocketAddress target)throws IOException;// å‘é€æ•°æ®\n\n   // è¯»å–æ•°æ®çš„Read Writeæ–¹æ³•\n   // ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n\n   public abstract SocketAddress getLocalAddress() throws IOException;// è·å–æœ¬åœ°çš„socketåœ°å€\n```\n\n##### SocketChannelç±»\n\nSocketChannelä¸»è¦æ˜¯ç”¨æ¥åŸºäºTCPé€šä¿¡çš„é€šé“\n\n```java\nprotected SocketChannel(SelectorProvider provider)// ä¸å¯new\n\n// è·å–å®ä¾‹\npublic static SocketChannel open() throws IOException {}\npublic static SocketChannel open(SocketAddress remote)throws IOException{}\n\n/**   åŒ DatagramChannnel çš„Socketæ“ä½œæ–¹æ³•*/\n// ......zh\n\n   public abstract boolean isConnectionPending();// åˆ¤æ–­ç®¡é“ä¸Šçš„è¿æ¥æ“ä½œæ˜¯å¦æ­£åœ¨è¿›è¡Œ\n\n// åœ¨ä¸å…³é—­é€šé“çš„æƒ…å†µä¸‹å…³é—­è¿æ¥ä»¥è¿›è¡Œè¯»å–/å†™å…¥ã€‚\npublic abstract SocketChannel shutdownInput() throws IOException;\npublic abstract SocketChannel shutdownOutput() throws IOException;\n\npublic abstract boolean finishConnect() throws IOException;//ç»“æŸè¿æ¥\n```\n\n##### ServerSocketChannelç±»\n\nServerSocketChannelæ˜¯ä¸€ä¸ªå¯ä»¥ç›‘å¬æ–°è¿›æ¥çš„TCPè¿æ¥çš„é€šé“\n\nServerSocketChannelç±»çš„æ–¹æ³•ä¸»è¦è¿›è¡ŒSocketçš„è¿æ¥çš„ç›‘å¬ï¼Œæ¥å—ï¼Œæ–¹æ³•ä¸å‰é¢çš„DatagramChannelå’ŒSocketChannelå†…çš„æ–¹æ³•åŸºæœ¬ä¸€è‡´ã€‚\n\n![ServerSocketChannel](https://oss.celess.cn/web/blogimg/ServerSocketChannel.png)\n\n### 2. Buffer\n\nBufferæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«ä¸€äº›è¦å†™å…¥æˆ–è€…è¯»åˆ°Streamå¯¹è±¡çš„ã€‚åº”ç”¨ç¨‹åºä¸èƒ½ç›´æ¥å¯¹ Channel è¿›è¡Œè¯»å†™æ“ä½œï¼Œè€Œå¿…é¡»é€šè¿‡ Buffer æ¥è¿›è¡Œï¼Œå³ Channel æ˜¯é€šè¿‡ Buffer æ¥è¯»å†™æ•°æ®çš„ã€‚\n\nåœ¨NIOä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯ç”¨Bufferå¤„ç†çš„ï¼Œå®ƒæ˜¯NIOè¯»å†™æ•°æ®çš„ä¸­è½¬æ± ã€‚Bufferå®è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°æ®ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç±»å‹çš„æ•°ç»„ã€‚ä½†ä¸€ä¸ªç¼“å†²åŒºä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‡è¦çš„æ˜¯å®ƒæä¾›äº†å¯¹æ•°æ®çš„ç»“æ„åŒ–è®¿é—®ï¼Œè€Œä¸”è¿˜å¯ä»¥è·Ÿè¸ªç³»ç»Ÿçš„è¯»å†™è¿›ç¨‹ã€‚\n\nä½¿ç”¨ Buffer è¯»å†™æ•°æ®ä¸€èˆ¬éµå¾ªä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š\n\n1. å†™å…¥æ•°æ®åˆ° Bufferï¼›\n\n2. è°ƒç”¨ flip() æ–¹æ³•ï¼›\n\n3. ä» Buffer ä¸­è¯»å–æ•°æ®ï¼›\n\n4. è°ƒç”¨ clear() æ–¹æ³•æˆ–è€… compact() æ–¹æ³•ã€‚\n\nå½“å‘ Buffer å†™å…¥æ•°æ®æ—¶ï¼ŒBuffer ä¼šè®°å½•ä¸‹å†™äº†å¤šå°‘æ•°æ®ã€‚ä¸€æ—¦è¦è¯»å–æ•°æ®ï¼Œéœ€è¦é€šè¿‡ flip() æ–¹æ³•å°† Buffer ä»å†™æ¨¡å¼åˆ‡æ¢åˆ°è¯»æ¨¡å¼ã€‚åœ¨è¯»æ¨¡å¼ä¸‹ï¼Œå¯ä»¥è¯»å–ä¹‹å‰å†™å…¥åˆ° Buffer çš„æ‰€æœ‰æ•°æ®ã€‚\n\nä¸€æ—¦è¯»å®Œäº†æ‰€æœ‰çš„æ•°æ®ï¼Œå°±éœ€è¦æ¸…ç©ºç¼“å†²åŒºï¼Œè®©å®ƒå¯ä»¥å†æ¬¡è¢«å†™å…¥ã€‚æœ‰ä¸¤ç§æ–¹å¼èƒ½æ¸…ç©ºç¼“å†²åŒºï¼šè°ƒç”¨ clear() æˆ– compact() æ–¹æ³•ã€‚clear() æ–¹æ³•ä¼šæ¸…ç©ºæ•´ä¸ªç¼“å†²åŒºã€‚compact() æ–¹æ³•åªä¼šæ¸…é™¤å·²ç»è¯»è¿‡çš„æ•°æ®ã€‚ä»»ä½•æœªè¯»çš„æ•°æ®éƒ½è¢«ç§»åˆ°ç¼“å†²åŒºçš„èµ·å§‹å¤„ï¼Œæ–°å†™å…¥çš„æ•°æ®å°†æ”¾åˆ°ç¼“å†²åŒºæœªè¯»æ•°æ®çš„åé¢ã€‚\n\nBufferä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§ï¼š\n\n- ByteBuffer\n\n- CharBuffer\n\n- DoubleBuffer\n\n- FloatBuffer\n\n- IntBuffer\n\n- LongBuffer\n\n- ShortBuffer\n\n#### Bufferç±»çš„ä¸»è¦æ–¹æ³•\n\n```java\nBuffer(int mark, int pos, int lim, int cap) {  /**.......*/ }æ„é€ å™¨ï¼Œè¿›è¡Œåˆå§‹åŒ–\npublic final int capacity() // è·å–ç¼“å†²åŒºå®¹é‡\npublic final int position() // è·å–å½“å‰ç¼“å†²åŒºä½ç½®\npublic final Buffer position(int newPosition) // è®¾ç½®bufferçš„ä½ç½®ï¼Œå¹¶è¿”å›è®¾ç½®åçš„buffer\npublic final int limit() // è·å–ç¼“å†²åŒºçš„é™åˆ¶\npublic final Buffer limit(int newLimit) // è®¾ç½®ç¼“å†²åŒºçš„é™åˆ¶\npublic final Buffer mark() //åœ¨æ­¤ä½ç½®è®¾ç½®æ­¤ç¼“å†²åŒºçš„æ ‡è®°\npublic final Buffer reset() // å°†ç¼“å†²ä½ç½®è®¾ç½®ä¸ºå…ˆå»æ ‡è®°çš„ä½ç½®\npublic final Buffer clear() // æ¸…é™¤ç¼“å†²åŒº positionè®¾ç½®ä¸º0 limitè®¾ç½®ä¸ºå®¹é‡ markè¢«æ¸…é™¤\npublic final Buffer flip() // æ¨¡å¼åˆ‡æ¢limitè®¾ç½®ä¸ºå½“å‰position ä¸”positionè®¾ç½®ä¸º0 markè¢«æ¸…é™¤\npublic final Buffer rewind() // å€’å›è¿™ä¸ªç¼“å†²åŒºã€‚positionè®¾ç½®ä¸ºé›¶ï¼Œmarkè¢«æ¸…é™¤\npublic final int remaining() // è¿”å›limit-positionçš„å…ƒç´ æ•°\npublic final boolean hasRemaining() // æ˜¯å¦æœ‰å‰©ä½™çš„å…ƒç´ \npublic abstract boolean isReadOnly()// åˆ¤æ–­æ­¤ç¼“å†²åŒºæ˜¯å¦ä¸ºåªè¯»\npublic abstract boolean hasArray()// åˆ¤æ–­æ­¤ç¼“å†²åŒºæ˜¯å¦ç”±å¯è®¿é—®æ•°ç»„æ”¯æŒ\npublic abstract Object array()//è¿”å›æ”¯æŒæ­¤æ•°ç»„çš„æ•°ç»„\npublic abstract int arrayOffset()//è¿”å›ç¬¬ä¸€ä¸ªç¼“å†²åŒºçš„åå¤‡æ•°ç»„ä¸­çš„åç§»é‡\npublic abstract boolean isDirect()//åˆ¤æ–­æ­¤å­—èŠ‚ç¼“å†²åŒºæ˜¯å¦æ˜¯ç›´æ¥çš„ã€‚\n```\n\n### 3. Scatter / Gather\n\nscatter / gatheræ˜¯é€šè¿‡é€šé“è¯»å†™æ•°æ®çš„ä¸¤ä¸ªæ¦‚å¿µã€‚\n\nScattering readæŒ‡çš„æ˜¯ä»é€šé“è¯»å–çš„æ“ä½œèƒ½æŠŠæ•°æ®å†™å…¥å¤šä¸ªbufferï¼Œä¹Ÿå°±æ˜¯scttersä»£è¡¨äº†æ•°æ®ä»ä¸€ä¸ªchannelåˆ°å¤šä¸ªbufferçš„è¿‡ç¨‹ã€‚\n\ngathering writeåˆ™æ­£å¥½ç›¸åï¼Œè¡¨ç¤ºçš„æ˜¯ä»å¤šä¸ªbufferæŠŠæ•°æ®å†™å…¥åˆ°ä¸€ä¸ªchannelä¸­ã€‚\n\nScatter/gatheråœ¨æœ‰äº›åœºæ™¯ä¸‹ä¼šéå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚éœ€è¦å¤„ç†å¤šä»½åˆ†å¼€ä¼ è¾“çš„æ•°æ®ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾ä¸€ä¸ªæ¶ˆæ¯åŒ…å«äº†headerå’Œbodyï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæŠŠheaderå’Œbodyä¿å­˜åœ¨ä¸åŒç‹¬ç«‹bufferä¸­ï¼Œè¿™ç§åˆ†å¼€å¤„ç†headerä¸bodyçš„åšæ³•ä¼šä½¿å¼€å‘æ›´ç®€æ˜\n\n#### Scattering Read\n\n![Scattering Read](https://oss.celess.cn/web/blogimg/Scattering_Read.png)\n\nç”¨ä»£ç è¡¨ç¤º\n\n```java \nByteBuffer header = ByteBuffer.allocate(128);\nByteBuffer body   = ByteBuffer.allocate(1024);\n\n//write data into buffers\n\nByteBuffer[] bufferArray = { header, body };\n\nchannel.read(bufferArray);\n```\n\næˆ‘ä»¬æŠŠå¤šä¸ªbufferå†™åœ¨äº†ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç„¶åæŠŠæ•°ç»„ä¼ é€’ç»™channel.read()æ–¹æ³•ã€‚read()æ–¹æ³•å†…éƒ¨ä¼šè´Ÿè´£æŠŠæ•°æ®æŒ‰é¡ºåºå†™è¿›ä¼ å…¥çš„bufferæ•°ç»„å†…ã€‚ä¸€ä¸ªbufferå†™æ»¡åï¼Œæ¥ç€å†™åˆ°ä¸‹ä¸€ä¸ªbufferä¸­ã€‚\n\nå®é™…ä¸Šï¼Œscattering readå†…éƒ¨å¿…é¡»å†™æ»¡ä¸€ä¸ªbufferåæ‰ä¼šå‘åç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªbufferï¼Œå› æ­¤è¿™å¹¶ä¸é€‚åˆæ¶ˆæ¯å¤§å°ä¼šåŠ¨æ€æ”¹å˜çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªheaderå’Œbodyï¼Œå¹¶ä¸”headeræœ‰ä¸€ä¸ªå›ºå®šçš„å¤§å°ï¼ˆæ¯”å¦‚128å­—èŠ‚ï¼‰,è¿™ç§æƒ…å½¢ä¸‹å¯ä»¥æ­£å¸¸å·¥ä½œã€‚\n\n \n\n#### Gathering Writes\n\n![Gathering Writes](https://oss.celess.cn/web/blogimg/Gathering_Writes.png)\n\nç”¨ä»£ç è¡¨ç¤º\n\n```java\nByteBuffer header = ByteBuffer.allocate(128);\nByteBuffer body   = ByteBuffer.allocate(1024);\n\n//write data into buffers\n\nByteBuffer[] bufferArray = { header, body };\n\nchannel.write(bufferArray);\n```\n\nç±»ä¼¼çš„ä¼ å…¥ä¸€ä¸ªbufferæ•°ç»„ç»™writeï¼Œå†…éƒ¨æœºä¼šæŒ‰é¡ºåºå°†æ•°ç»„å†…çš„å†…å®¹å†™è¿›channelï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå†™å…¥çš„æ—¶å€™é’ˆå¯¹çš„æ˜¯bufferä¸­positionåˆ°limitä¹‹é—´çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯å¦‚æœbufferçš„å®¹é‡æ˜¯128å­—èŠ‚ï¼Œä½†å®ƒåªåŒ…å«äº†58å­—èŠ‚æ•°æ®ï¼Œé‚£ä¹ˆå†™å…¥çš„æ—¶å€™åªæœ‰58å­—èŠ‚ä¼šçœŸæ­£å†™å…¥ã€‚å› æ­¤gathering writeæ˜¯å¯ä»¥é€‚ç”¨äºå¯å˜å¤§å°çš„messageçš„ï¼Œè¿™å’Œscattering readsä¸åŒã€‚\n\n### 4. Selector\n\nSelectoræ˜¯Java NIOä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºæ£€æŸ¥ä¸€ä¸ªæˆ–å¤šä¸ªNIO Channelçš„çŠ¶æ€æ˜¯å¦å¤„äºå¯è¯»ã€å¯å†™ã€‚å¦‚æ­¤å¯ä»¥å®ç°å•çº¿ç¨‹ç®¡ç†å¤šä¸ªchannels,ä¹Ÿå°±æ˜¯å¯ä»¥ç®¡ç†å¤šä¸ªç½‘ç»œé“¾æ¥ã€‚\n\n#### ä¸ºä»€ä¹ˆä½¿ç”¨Selector\n\nç”¨å•çº¿ç¨‹å¤„ç†å¤šä¸ªchannelsçš„å¥½å¤„æ˜¯æˆ‘éœ€è¦æ›´å°‘çš„çº¿ç¨‹æ¥å¤„ç†channelã€‚å®é™…ä¸Šï¼Œä½ ç”šè‡³å¯ä»¥ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æ‰€æœ‰çš„channelsã€‚ä»æ“ä½œç³»ç»Ÿçš„è§’åº¦æ¥çœ‹ï¼Œåˆ‡æ¢çº¿ç¨‹å¼€é”€æ˜¯æ¯”è¾ƒæ˜‚è´µçš„ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹éƒ½éœ€è¦å ç”¨ç³»ç»Ÿèµ„æºï¼Œå› æ­¤å ç”¨çº¿ç¨‹è¶Šå°‘è¶Šå¥½ã€‚\n\néœ€è¦ç•™æ„çš„æ˜¯ï¼Œç°ä»£æ“ä½œç³»ç»Ÿå’ŒCPUåœ¨å¤šä»»åŠ¡å¤„ç†ä¸Šå·²ç»å˜å¾—è¶Šæ¥è¶Šå¥½ï¼Œæ‰€ä»¥å¤šçº¿ç¨‹å¸¦æ¥çš„å½±å“ä¹Ÿè¶Šæ¥è¶Šå°ã€‚å¦‚æœä¸€ä¸ªCPUæ˜¯å¤šæ ¸çš„ï¼Œå¦‚æœä¸æ‰§è¡Œå¤šä»»åŠ¡åè€Œæ˜¯æµªè´¹äº†æœºå™¨çš„æ€§èƒ½ã€‚ä¸è¿‡è¿™äº›è®¾è®¡è®¨è®ºæ˜¯å¦å¤–çš„è¯é¢˜äº†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œé€šè¿‡Selectoræˆ‘ä»¬å¯ä»¥å®ç°å•çº¿ç¨‹æ“ä½œå¤šä¸ªchannelã€‚\n\n#### ä¸»è¦æ–¹æ³•\n\n```java\npublic static Selector open() throws IOException //è·å–Selectorå®ä¾‹\npublic abstract boolean isOpen();// è·å–æ­¤selectoræ˜¯å¦æ‰“å¼€\npublic abstract SelectorProvider provider() // è¿”å›SelectorProvider \npublic abstract Set<SelectionKey> keys();// è¿”å›æ­¤selectorçš„keyçš„é›†åˆ è¿™é‡Œé¢çš„keyä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œkeyåªæœ‰åœ¨ä»–è¢«å–æ¶ˆæˆ–è€…channelè¢«æ³¨é”€åæ‰ä¼šè¢«ç§»é™¤ã€‚åŒæ—¶è¿™ä¸ªsetéçº¿ç¨‹å®‰å…¨\npublic abstract Set<SelectionKey> selectedKeys();//è¿”å› selected-keyçš„é›†åˆ\n/**\n* select()æ–¹æ³•åœ¨è¿”å›channelä¹‹å‰å¤„äºé˜»å¡çŠ¶æ€ã€‚ select(long timeout)å’Œselectåšçš„äº‹ä¸€æ ·ï¼Œä¸è¿‡ä»–çš„é˜»å¡æœ‰ä¸€ä¸ªè¶…æ—¶é™åˆ¶ã€‚\n* selectNow()ä¸ä¼šé˜»å¡ï¼Œæ ¹æ®å½“å‰çŠ¶æ€ç«‹åˆ»è¿”å›åˆé€‚çš„channel\n* select()æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªintæ•´å½¢ï¼Œä»£è¡¨æœ‰å¤šå°‘channelå¤„äºå°±ç»ªäº†ã€‚ä¹Ÿå°±æ˜¯è‡ªä¸Šä¸€æ¬¡selectåæœ‰å¤šå°‘channelè¿›å…¥å°±ç»ª\n*/\npublic abstract int selectNow() throws IOException;//æ ¹æ®å½“å‰çŠ¶æ€ç«‹åˆ»è¿”å›åˆé€‚çš„channel\npublic abstract int select(long timeout)throws IOException;\npublic abstract int select() throws IOException;\n\npublic abstract Selector wakeup();//ç”±äºè°ƒç”¨selectè€Œè¢«é˜»å¡çš„çº¿ç¨‹ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨Selector.wakeup()æ¥å”¤é†’å³ä¾¿æ­¤æ—¶å·²ç„¶æ²¡æœ‰channelå¤„äºå°±ç»ªçŠ¶æ€ã€‚å…·ä½“æ“ä½œæ˜¯ï¼Œåœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨wakeupï¼Œè¢«é˜»å¡ä¸selectæ–¹æ³•çš„çº¿ç¨‹å°±ä¼šç«‹åˆ»è¿”å›ã€‚\npublic abstract void close() throws IOException;// å…³é—­selector\n```\n\n### 5. Pipe\n\nä¸€ä¸ªJava NIOçš„ç®¡é“æ˜¯ä¸¤ä¸ªçº¿ç¨‹é—´å•å‘ä¼ è¾“æ•°æ®çš„è¿æ¥ã€‚ä¸€ä¸ªç®¡é“ï¼ˆPipeï¼‰æœ‰ä¸€ä¸ªsource channelå’Œä¸€ä¸ªsink channelã€‚æˆ‘ä»¬æŠŠæ•°æ®å†™åˆ°sink channelä¸­ï¼Œè¿™äº›æ•°æ®å¯ä»¥åŒè¿‡source channelå†è¯»å–å‡ºæ¥ã€‚\n\nç®¡é“çš„ç¤ºæ„å›¾\n\n![Pipe](http://oss.celess.cn/web/blogimg/Pipe.png)\n\n#### å‘ç®¡é“å†™å…¥æ•°æ®\n\n```java\n//å‘ç®¡é“å†™å…¥æ•°æ®éœ€è¦è®¿é—®ä»–çš„sink channel\nPipe.SinkChannel sinkChannel = pipe.sink();\n\n//æ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨write()æ–¹æ³•å†™å…¥æ•°æ®äº†ï¼š\nString newData = "New String to write to file "\n\nByteBuffer buf = ByteBuffer.allocate(48);\nbuf.clear();\nbuf.put(newData.getBytes());\n\nbuf.flip();\n\nwhile(buf.hasRemaining()) {\n    sinkChannel.write(buf);\n}\n```\n\n#### ä»ç®¡é“è¯»å–æ•°æ®\n\n```java\n//è®¿é—®ä»–çš„source channel\nPipe.SourceChannel sourceChannel = pipe.source();\nByteBuffer buf = ByteBuffer.allocate(48);\n\n//è°ƒç”¨read()æ–¹æ³•è¯»å–æ•°æ®\nint bytesRead = inChannel.read(buf);\n```\n\n',
        NULL, 1, 1, 262, 0, 0, 2, '2019-10-11 06:48:53', NULL, 1, 0);
INSERT INTO `article` (`a_id`, `a_title`, `a_summary`, `a_md_content`, `a_url`, `a_author_id`, `a_is_original`,
                       `a_reading_number`, `a_like`, `a_dislike`, `a_category_id`, `a_publish_date`, `a_update_date`,
                       `a_is_open`, `is_delete`)
VALUES (1291, 'Nettyå­¦ä¹ æ€»ç»“',
        'Netty\n[TOC]\n1.ä»€ä¹ˆæ˜¯Netty\nNettyæ˜¯NIOå®¢æˆ·ç«¯æœåŠ¡å™¨æ¡†æ¶ï¼Œæ”¯æŒåè®®æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ç­‰ç½‘ç»œåº”ç”¨çš„å¿«é€Ÿç®€å•å¼€å‘ã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†ç½‘ç»œç¼–ç¨‹ï¼Œå¦‚TCPå’ŒUDPå¥—æ¥å­—æœåŠ¡å™¨ã€‚Netty æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æ¡†æ¶ï¼Œå®ƒä»è®¸å¤šåè®®çš„å®ç°ä¸­å¸æ”¶äº†å¾ˆå¤šçš„ç»éªŒæ¯”å¦‚ FTPã€SMTPã€HTTPã€è®¸å¤šäºŒè¿›åˆ¶å’ŒåŸºäºæ–‡æœ¬çš„ä¼ ç»Ÿåè®®ã€‚å› æ­¤ï¼ŒNettyæˆåŠŸåœ°æ‰¾åˆ°äº†ä¸€ç§æ–¹æ³•ï¼Œåœ¨ä¸å¤±çµæ´»æ€§çš„å‰æä¸‹æ¥å®ç°å¼€å‘......',
        '# Netty\n[TOC]\n## 1.ä»€ä¹ˆæ˜¯Netty\n\nNettyæ˜¯NIOå®¢æˆ·ç«¯æœåŠ¡å™¨æ¡†æ¶ï¼Œæ”¯æŒåè®®æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ç­‰ç½‘ç»œåº”ç”¨çš„å¿«é€Ÿç®€å•å¼€å‘ã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†ç½‘ç»œç¼–ç¨‹ï¼Œå¦‚TCPå’ŒUDPå¥—æ¥å­—æœåŠ¡å™¨ã€‚Netty æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æ¡†æ¶ï¼Œå®ƒä»è®¸å¤šåè®®çš„å®ç°ä¸­å¸æ”¶äº†å¾ˆå¤šçš„ç»éªŒæ¯”å¦‚ FTPã€SMTPã€HTTPã€è®¸å¤šäºŒè¿›åˆ¶å’ŒåŸºäºæ–‡æœ¬çš„ä¼ ç»Ÿåè®®ã€‚å› æ­¤ï¼ŒNettyæˆåŠŸåœ°æ‰¾åˆ°äº†ä¸€ç§æ–¹æ³•ï¼Œåœ¨ä¸å¤±çµæ´»æ€§çš„å‰æä¸‹æ¥å®ç°å¼€å‘ã€æ€§èƒ½ã€ç¨³å®šæ€§å’Œçµæ´»æ€§\n\n## 2.ä¸ºä»€ä¹ˆæ˜¯Netty\n\n### The problem \n\nä»Šå¤©ï¼Œæˆ‘ä»¬ä½¿ç”¨é€šç”¨çš„åº”ç”¨ç¨‹åºæˆ–è€…ç±»åº“æ¥å®ç°äº’ç›¸é€šè®¯ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ä¸€ä¸ª HTTP å®¢æˆ·ç«¯åº“æ¥ä» web æœåŠ¡å™¨ä¸Šè·å–ä¿¡æ¯ï¼Œæˆ–è€…é€šè¿‡ web æœåŠ¡æ¥æ‰§è¡Œä¸€ä¸ªè¿œç¨‹çš„è°ƒç”¨ã€‚\n\nç„¶è€Œï¼Œæœ‰æ—¶å€™ä¸€ä¸ªé€šç”¨çš„åè®®æˆ–ä»–çš„å®ç°å¹¶æ²¡æœ‰å¾ˆå¥½çš„æ»¡è¶³éœ€æ±‚ã€‚æ¯”å¦‚æˆ‘ä»¬æ— æ³•ä½¿ç”¨ä¸€ä¸ªé€šç”¨çš„ HTTP æœåŠ¡å™¨æ¥å¤„ç†å¤§æ–‡ä»¶ã€ç”µå­é‚®ä»¶ä»¥åŠè¿‘å®æ—¶æ¶ˆæ¯ï¼Œæ¯”å¦‚é‡‘èä¿¡æ¯å’Œå¤šäººæ¸¸æˆæ•°æ®ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªé«˜åº¦ä¼˜åŒ–çš„åè®®æ¥å¤„ç†ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ã€‚ä¾‹å¦‚ä½ å¯èƒ½æƒ³å®ç°ä¸€ä¸ªä¼˜åŒ–äº†çš„ Ajax çš„èŠå¤©åº”ç”¨ã€åª’ä½“æµä¼ è¾“æˆ–è€…æ˜¯å¤§æ–‡ä»¶ä¼ è¾“å™¨ï¼Œä½ ç”šè‡³å¯ä»¥è‡ªå·±è®¾è®¡å’Œå®ç°ä¸€ä¸ªå…¨æ–°çš„åè®®æ¥å‡†ç¡®åœ°å®ç°ä½ çš„éœ€æ±‚ã€‚\n\nå¦ä¸€ä¸ªä¸å¯é¿å…çš„æƒ…å†µæ˜¯å½“ä½ ä¸å¾—ä¸å¤„ç†é—ç•™çš„ä¸“æœ‰åè®®æ¥ç¡®ä¿ä¸æ—§ç³»ç»Ÿçš„äº’æ“ä½œæ€§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé‡è¦çš„æ˜¯æˆ‘ä»¬å¦‚ä½•æ‰èƒ½å¿«é€Ÿå®ç°åè®®è€Œä¸ç‰ºç‰²åº”ç”¨çš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚\n\n### The Solution\n\n[Netty](http://netty.io/) æ˜¯ä¸€ä¸ªæä¾› asynchronous event-driven ï¼ˆå¼‚æ­¥äº‹ä»¶é©±åŠ¨ï¼‰çš„ç½‘ç»œåº”ç”¨æ¡†æ¶ï¼Œæ˜¯ä¸€ä¸ªç”¨ä»¥å¿«é€Ÿå¼€å‘é«˜æ€§èƒ½ã€å¯æ‰©å±•åè®®çš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ã€‚\n\næ¢å¥è¯è¯´ï¼ŒNetty æ˜¯ä¸€ä¸ª NIO å®¢æˆ·ç«¯æœåŠ¡å™¨æ¡†æ¶ï¼Œä½¿ç”¨å®ƒå¯ä»¥å¿«é€Ÿç®€å•åœ°å¼€å‘ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„åè®®ã€‚Netty å¤§å¤§ç®€åŒ–äº†ç½‘ç»œç¨‹åºçš„å¼€å‘è¿‡ç¨‹æ¯”å¦‚ TCP å’Œ UDP çš„ socket æœåŠ¡çš„å¼€å‘ã€‚\n\nâ€œå¿«é€Ÿå’Œç®€å•â€å¹¶ä¸æ„å‘³ç€åº”ç”¨ç¨‹åºä¼šæœ‰éš¾ç»´æŠ¤å’Œæ€§èƒ½ä½çš„é—®é¢˜ï¼ŒNetty æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æ¡†æ¶ï¼Œå®ƒä»è®¸å¤šåè®®çš„å®ç°ä¸­å¸æ”¶äº†å¾ˆå¤šçš„ç»éªŒæ¯”å¦‚ FTPã€SMTPã€HTTPã€è®¸å¤šäºŒè¿›åˆ¶å’ŒåŸºäºæ–‡æœ¬çš„ä¼ ç»Ÿåè®®. å› æ­¤ï¼ŒNettyæˆåŠŸåœ°æ‰¾åˆ°äº†ä¸€ç§æ–¹æ³•ï¼Œåœ¨ä¸å¤±çµæ´»æ€§çš„å‰æä¸‹æ¥å®ç°å¼€å‘ã€æ€§èƒ½ã€ç¨³å®šæ€§å’Œçµæ´»æ€§\n\n\n\n## 3.Nettyç»„ä»¶\n\n### Bootstrap \n\nNetty åº”ç”¨ç¨‹åºé€šè¿‡è®¾ç½® bootstrapï¼ˆå¼•å¯¼ï¼‰ç±»çš„å¼€å§‹ï¼Œè¯¥ç±»æä¾›äº†ä¸€ä¸ª ç”¨äºåº”ç”¨ç¨‹åºç½‘ç»œå±‚é…ç½®çš„å®¹å™¨ã€‚\n\nBootstrapæœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯ç”¨äºå®¢æˆ·ç«¯çš„Bootstrapï¼Œä¸€ç§æ˜¯ç”¨äºæœåŠ¡ç«¯çš„ServerBootstrapã€‚ä¸ç®¡ç¨‹åºä½¿ç”¨å“ªç§åè®®ï¼Œæ— è®ºæ˜¯åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨éƒ½éœ€è¦ä½¿ç”¨â€œå¼•å¯¼â€ã€‚\n\n### Channel\n\nåº•å±‚ç½‘ç»œä¼ è¾“ API å¿…é¡»æä¾›ç»™åº”ç”¨ I/Oæ“ä½œçš„æ¥å£ï¼Œå¦‚è¯»ï¼Œå†™ï¼Œè¿æ¥ï¼Œç»‘å®šç­‰ç­‰ã€‚å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œè¿™æ˜¯ç»“æ„å‡ ä¹æ€»æ˜¯ä¼šæˆä¸ºä¸€ä¸ªâ€œsocketâ€ã€‚ Netty ä¸­çš„æ¥å£ Channel å®šä¹‰äº†ä¸ socket ä¸°å¯Œäº¤äº’çš„æ“ä½œé›†ï¼šbind, close, config, connect, isActive, isOpen, isWritable, read, write ç­‰ç­‰ã€‚ Netty æä¾›å¤§é‡çš„ Channel å®ç°æ¥ä¸“é—¨ä½¿ç”¨ã€‚è¿™äº›åŒ…æ‹¬ AbstractChannelï¼ŒAbstractNioByteChannelï¼ŒAbstractNioChannelï¼ŒEmbeddedChannelï¼Œ LocalServerChannelï¼ŒNioSocketChannel ç­‰ç­‰ã€‚\n\n### ChannelHandler \n\nChannelHandler æ”¯æŒå¾ˆå¤šåè®®ï¼Œå¹¶ä¸”æä¾›ç”¨äºæ•°æ®å¤„ç†çš„å®¹å™¨ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“ ChannelHandler ç”±ç‰¹å®šäº‹ä»¶è§¦å‘ã€‚ ChannelHandler å¯ä¸“ç”¨äºå‡ ä¹æ‰€æœ‰çš„åŠ¨ä½œï¼ŒåŒ…æ‹¬å°†ä¸€ä¸ªå¯¹è±¡è½¬ä¸ºå­—èŠ‚ï¼ˆæˆ–ç›¸åï¼‰ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºçš„å¼‚å¸¸å¤„ç†ã€‚\n\nå¸¸ç”¨çš„ä¸€ä¸ªæ¥å£æ˜¯ ChannelInboundHandlerï¼Œè¿™ä¸ªç±»å‹æ¥æ”¶åˆ°å…¥ç«™äº‹ä»¶ï¼ˆåŒ…æ‹¬æ¥æ”¶åˆ°çš„æ•°æ®ï¼‰å¯ä»¥å¤„ç†åº”ç”¨ç¨‹åºé€»è¾‘ã€‚å½“ä½ éœ€è¦æä¾›å“åº”æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥ä» ChannelInboundHandler å†²åˆ·æ•°æ®ã€‚ä¸€å¥è¯ï¼Œä¸šåŠ¡é€»è¾‘ç»å¸¸å­˜æ´»äºä¸€ä¸ªæˆ–è€…å¤šä¸ª ChannelInboundHandlerã€‚\n\n### ChannelPipeline\n\nChannelPipeline æä¾›äº†ä¸€ä¸ªå®¹å™¨ç»™ ChannelHandler é“¾å¹¶æä¾›äº†ä¸€ä¸ªAPI ç”¨äºç®¡ç†æ²¿ç€é“¾å…¥ç«™å’Œå‡ºç«™äº‹ä»¶çš„æµåŠ¨ã€‚æ¯ä¸ª Channel éƒ½æœ‰è‡ªå·±çš„ChannelPipelineï¼Œå½“ Channel åˆ›å»ºæ—¶è‡ªåŠ¨åˆ›å»ºçš„ã€‚ ChannelHandler æ˜¯å¦‚ä½•å®‰è£…åœ¨ ChannelPipelineï¼Ÿ ä¸»è¦æ˜¯å®ç°äº†ChannelHandler çš„æŠ½è±¡ ChannelInitializerã€‚ChannelInitializerå­ç±» é€šè¿‡ ServerBootstrap è¿›è¡Œæ³¨å†Œã€‚å½“å®ƒçš„æ–¹æ³• initChannel() è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å°†å®‰è£…è‡ªå®šä¹‰çš„ ChannelHandler é›†åˆ° pipelineã€‚å½“è¿™ä¸ªæ“ä½œå®Œæˆæ—¶ï¼ŒChannelInitializer å­ç±»åˆ™ ä» ChannelPipeline è‡ªåŠ¨åˆ é™¤è‡ªèº«ã€‚\n\n### EventLoop \n\nEventLoop ç”¨äºå¤„ç† Channel çš„ I/O æ“ä½œã€‚ä¸€ä¸ªå•ä¸€çš„ EventLoopé€šå¸¸ä¼šå¤„ç†å¤šä¸ª Channel äº‹ä»¶ã€‚ä¸€ä¸ª EventLoopGroup å¯ä»¥å«æœ‰å¤šäºä¸€ä¸ªçš„ EventLoop å’Œ æä¾›äº†ä¸€ç§è¿­ä»£ç”¨äºæ£€ç´¢æ¸…å•ä¸­çš„ä¸‹ä¸€ä¸ªã€‚\n\n### ChannelFuture\n\nNetty æ‰€æœ‰çš„ I/O æ“ä½œéƒ½æ˜¯å¼‚æ­¥ã€‚å› ä¸ºä¸€ä¸ªæ“ä½œå¯èƒ½æ— æ³•ç«‹å³è¿”å›ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ç§æ–¹æ³•åœ¨ä»¥åç¡®å®šå®ƒçš„ç»“æœã€‚å‡ºäºè¿™ä¸ªç›®çš„ï¼ŒNetty æä¾›äº†æ¥å£ ChannelFuture,å®ƒçš„ addListener æ–¹æ³•æ³¨å†Œäº†ä¸€ä¸ª ChannelFutureListener ï¼Œå½“æ“ä½œå®Œæˆæ—¶ï¼Œå¯ä»¥è¢«é€šçŸ¥ï¼ˆä¸ç®¡æˆåŠŸä¸å¦ï¼‰ã€‚\n\n## æ–¹æ³•è§£æ\n\n### Bootstrap\n\n#### AbstractBootstrapç±»\n\nAbstractBootstrapæ˜¯Bootstrapçš„åŸºç±», ç±»å®šä¹‰å¦‚ä¸‹\n\n``public abstract class AbstractBootstrap*<*B extends AbstractBootstrap*<*B, C*>*, C extends Channel*>* implements Cloneable``\n\nå…¶ä¸­æ³›å‹è¦æ±‚Bä¸ºå…¶æœ¬ç±»çš„å­ç±»ï¼ŒCä¸ºchannelçš„å­ç±»ã€‚\n\n```java\n    // è®¾ç½®EventLoopGroup   åœ¨ServerBootstrapä¸­è°ƒç”¨æ­¤æ–¹æ³•ä¸ºè®¾ç½®parentGroup\n    public B group(EventLoopGroup group) {\n        // ç©ºå€¼æ£€æŸ¥\n        ObjectUtil.checkNotNull(group, "group");\n        if (this.group != null) {\n            throw new IllegalStateException("group set already");\n        }\n        this.group = group;\n        // self() è¿”å›å¼ºè½¬åçš„å½“å‰å¯¹è±¡\n        return self();\n    }\n    \n    \n    // è®¾ç½®Channel\n    public B channel(Class<? extends C> channelClass) {\n        // é€šè¿‡ChannelFactoryæ¥è·å–Channelçš„å®ä¾‹å¯¹è±¡\n        return channelFactory(new ReflectiveChannelFactory<C>(\n                ObjectUtil.checkNotNull(channelClass, "channelClass")\n        ));\n    }\n    \n    // è®¾ç½®ChannelFactory\n    public B channelFactory(io.netty.channel.ChannelFactory<? extends C> channelFactory) {\n        return channelFactory((ChannelFactory<C>) channelFactory);\n    }\n    \n    // è®¾ç½®localAddress\n    public B localAddress(SocketAddress localAddress) {\n        this.localAddress = localAddress;\n        return self();\n    }\n    public B localAddress(int inetPort) {\n        return localAddress(new InetSocketAddress(inetPort));\n    }\n    public B localAddress(String inetHost, int inetPort) {\n        return localAddress(SocketUtils.socketAddress(inetHost, inetPort));\n    }\n    public B localAddress(InetAddress inetHost, int inetPort) {\n        return localAddress(new InetSocketAddress(inetHost, inetPort));\n    }\n    \n    // è®¾ç½®optionçš„å€¼ æˆ–è€…ç§»é™¤option\n    public <T> B option(ChannelOption<T> option, T value) {\n        ObjectUtil.checkNotNull(option, "option");\n        if (value == null) {\n            synchronized (options) {\n                options.remove(option);\n            }\n        } else {\n            synchronized (options) {\n                options.put(option, value);\n            }\n        }\n        return self();\n    }\n    \n    // è®¾ç½®keyçš„å€¼æˆ–è€…ç§»é™¤key\n    public <T> B attr(AttributeKey<T> key, T value) {\n        ObjectUtil.checkNotNull(key, "key");\n        if (value == null) {\n            synchronized (attrs) {\n                attrs.remove(key);\n            }\n        } else {\n            synchronized (attrs) {\n                attrs.put(key, value);\n            }\n        }\n        return self();\n    }\n    \n    // æ•°æ®éªŒè¯\n    public B validate() {\n        if (group == null) {\n            throw new IllegalStateException("group not set");\n        }\n        if (channelFactory == null) {\n            throw new IllegalStateException("channel or channelFactory not set");\n        }\n        return self();\n    }\n    \n    // åˆ›å»ºæ–°çš„channelå¹¶æ³¨å†Œåˆ°EventLoopä¸Š\n    public ChannelFuture register() {\n        validate();\n        return initAndRegister();\n    }\n    \n    //æ–°å»ºchannnelå¹¶ç»‘å®šå®ƒ\n    public ChannelFuture bind() {\n        // æ•°æ®éªŒè¯\n        validate();\n        SocketAddress localAddress = this.localAddress;\n        if (localAddress == null) {\n            throw new IllegalStateException("localAddress not set");\n        }\n        // ç»‘å®š\n        return doBind(localAddress);\n    }\n    public ChannelFuture bind(int inetPort) {\n        return bind(new InetSocketAddress(inetPort));\n    }\n    public ChannelFuture bind(String inetHost, int inetPort) {\n        return bind(SocketUtils.socketAddress(inetHost, inetPort));\n    }\n    public ChannelFuture bind(InetAddress inetHost, int inetPort) {\n        return bind(new InetSocketAddress(inetHost, inetPort));\n    }\n    public ChannelFuture bind(SocketAddress localAddress) {\n        validate();\n        return doBind(ObjectUtil.checkNotNull(localAddress, "localAddress"));\n    }\n    \n    // è®¾ç½®handler\n    public B handler(ChannelHandler handler) {\n        this.handler = ObjectUtil.checkNotNull(handler, "handler");\n        return self();\n    }\n    \n    // è·å–é…ç½®\n    public abstract AbstractBootstrapConfig<B, C> config();\n```\n\n#### ServerBootstrapç±»\n\nç”¨äºæœåŠ¡ç«¯ç®€å•çš„å¼•å¯¼ServerChannelã€‚\n\n```java\n    public ServerBootstrap() { } // æ— å‚æ„é€ å™¨\n    \n    // å•å‚æ•°groupæ–¹æ³• è®¾ç½®parentGroupå’ŒchildGroup éƒ½ä¸ºgroup\n    public ServerBootstrap group(EventLoopGroup group) {\n        return group(group, group);\n    }\n    \n    // è®¾ç½®parentGroupå’ŒchildGroup\n    public ServerBootstrap group(EventLoopGroup parentGroup, EventLoopGroup childGroup) {\n        super.group(parentGroup);\n        // ç©ºå€¼æ£€æŸ¥\n        ObjectUtil.checkNotNull(childGroup, "childGroup");\n        // åˆ¤æ–­æ˜¯å¦å·²ç»è®¾ç½®è¿‡childGroup\n        if (this.childGroup != null) {\n            throw new IllegalStateException("childGroup set already");\n        }\n        this.childGroup = childGroup;\n        return this;\n    }\n    \n    // è®¾ç½®ChannelOption\n    public <T> ServerBootstrap childOption(ChannelOption<T> childOption, T value) {\n        // ç©ºå€¼æ£€æŸ¥\n        ObjectUtil.checkNotNull(childOption, "childOption");\n        if (value == null) {\n            // è‹¥ä¸ºnullåˆ™ç§»é™¤childOption\n            synchronized (childOptions) {\n                childOptions.remove(childOption);\n            }\n        } else {\n            // è®¾ç½®childOption\n            synchronized (childOptions) {\n                childOptions.put(childOption, value);\n            }\n        }\n        return this;\n    }\n    \n    // è®¾ç½®AttributeKey\n     public <T> ServerBootstrap childAttr(AttributeKey<T> childKey, T value) {\n        // ç©ºå€¼æ£€æŸ¥\n        ObjectUtil.checkNotNull(childKey, "childKey");\n        if (value == null) {\n            // è‹¥ä¸ºnullåˆ™ç§»é™¤childKey\n            childAttrs.remove(childKey);\n        } else {\n            // è®¾ç½®childKey\n            childAttrs.put(childKey, value);\n        }\n        return this;\n    }\n    \n    // è®¾ç½®ChannelHandler\n    public ServerBootstrap childHandler(ChannelHandler childHandler) {\n        // åˆ¤ç©ºå¹¶èµ‹å€¼\n        this.childHandler = ObjectUtil.checkNotNull(childHandler, "childHandler");\n        return this;\n    }\n    \n    // éªŒè¯æ‰€æœ‰çš„å‚æ•°\n    public ServerBootstrap validate() {\n        // çˆ¶ç±»ä¸­æœ‰éªŒè¯groupï¼ˆå‰é¢groupæ–¹æ³•è®¾ç½®çš„parentGroupï¼‰ å’Œ channelFactoryï¼ˆç”¨ä»¥åˆ›å»ºChannelå®ä¾‹çš„å·¥å‚çš„å®ä¾‹å¯¹è±¡ï¼‰\n        super.validate();\n        // éªŒè¯childHandler ï¼ˆChannelHandlerå®ä¾‹å¯¹è±¡ï¼‰\n        if (childHandler == null) {\n            throw new IllegalStateException("childHandler not set");\n        }\n        //éªŒè¯childGroup ï¼ˆgroupæ–¹æ³•è®¾ç½®çš„ EventLoopGroup childGroupï¼‰\n        if (childGroup == null) {\n            // æœªè®¾ç½®childGroup é»˜è®¤ä½¿ç”¨parentGroup\n            logger.warn("childGroup is not set. Using parentGroup instead.");\n            childGroup = config.group();\n        }\n        return this;\n    }\n    \n    // è¿”å›ä¸€ä¸ªå…‹éš†åçš„å®ä¾‹å¯¹è±¡\n    public ServerBootstrap clone() {\n        return new ServerBootstrap(this);\n    }\n    \n    // è¿”å›é…ç½®ä¿¡æ¯\n    public final ServerBootstrapConfig config() {\n        return config;\n    }\n```\n\n#### ServerBootstrapConfigç±»\n\nServerBootstrapçš„é…ç½®ç±»ã€‚ServerBootstrapConfigç»§æ‰¿è‡ªAbstractBootstrapConfigï¼Œæ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œå¯ä»¥é€šè¿‡å„ä¸ªæ–¹æ³•è·å–å¯¹äºçš„é…ç½®å€¼\n\n![ServerBootstrapConfig](https://oss.celess.cn/web/blogimg/serverBootstrapConfig.png)\n\n#### Bootstrapç±»\n\n```java\npublic Bootstrap() { } // æ— å‚æ„é€ æ–¹æ³•\n\n// é»˜è®¤è®¾ç½®ä¸ºDefaultAddressResolverGroup.INSTANCE, å¯ä»¥é€šè¿‡ä¼ å…¥énullå€¼æ¥èµ‹å€¼:\npublic Bootstrap resolver(AddressResolverGroup<?> resolver) {\n    DEFAULT_RESOLVER : resolver);\n    return this;\n}\n\n// è®¾ç½®è¿æ¥çš„è¿œç¨‹åœ°å€å’Œç«¯å£\npublic Bootstrap remoteAddress(SocketAddress remoteAddress) {\n    this.remoteAddress = remoteAddress;\n    return this;\n}\npublic Bootstrap remoteAddress(String inetHost, int inetPort) {\n    remoteAddress = InetSocketAddress.createUnresolved(inetHost, inetPort);\n    return this;\n}\npublic Bootstrap remoteAddress(InetAddress inetHost, int inetPort) {\n    remoteAddress = new InetSocketAddress(inetHost, inetPort);\n    return this;\n}\n\n//è¿›è¡Œè¿æ¥\npublic ChannelFuture connect() {\n    // å‚æ•°éªŒè¯\n    validate();\n    // åœ°å€åˆ¤ç©º\n    SocketAddress remoteAddress = this.remoteAddress;\n    if (remoteAddress == null) {\n        throw new IllegalStateException("remoteAddress not set");\n    }\n    // è¿æ¥\n    return doResolveAndConnect(remoteAddress, config.localAddress());\n}\n/** çœç•¥å¤šä¸ªconnecté‡è½½å‡½æ•°  å‚æ•°å‡ä¸ºä¸åŒå½¢å¼çš„è®¾ç½®è¿œç¨‹è¿æ¥çš„åœ°å€å’Œç«¯å£ */\n\n// å‚æ•°éªŒè¯\npublic Bootstrap validate() {\n    //çˆ¶ç±»å‚æ•°éªŒè¯\n    super.validate();\n    handleréç©ºéªŒè¯\n    if (config.handler() == null) {\n        throw new IllegalStateException("handler not set");\n    }\n    return this;\n}\n// è¿”å›æ­¤ç±»å®ä¾‹çš„å…‹éš†å®ä¾‹\npublic Bootstrap clone() {\n    return new Bootstrap(this);\n}\npublic Bootstrap clone(EventLoopGroup group) {\n    Bootstrap bs = new Bootstrap(this);\n    bs.group = group;\n    return bs;\n}\n\n// è¿”å›é…ç½®ä¿¡æ¯\npublic final BootstrapConfig config() {\n    return config;\n}\n```\n\n#### BootstrapConfigç±»\n\nBootstrapçš„é…ç½®ç±»ä¹Ÿç»§æ‰¿è‡ªAbstractBootstrapConfigï¼Œç±»æ–¹æ³•ä¹Ÿå‡ ä¹ä¸ServerBootstrapç›¸åŒï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹å›¾\n\n![BootstrapConfig](https://oss.celess.cn/web/blogimg/BootstrapConfig.png)\n\n### EventLoop\n\n#### NioEventLoopGroupç±»\n\nå¤šä¸ªæ„é€ å‡½æ•°ä»¥åŠè®¾ç½®å­äº‹ä»¶å¾ªç¯ä¸­I/Oæ‰€éœ€æ—¶é—´çš„ç™¾åˆ†æ¯”çš„setIoRatioæ–¹æ³•å’Œä¸€ä¸ªrebuildSelectorsæ–¹æ³•\n\n![NioEventLoopGroup](https://oss.celess.cn/web/blogimg/NioEventLoopGroup.png)\n\n#### EventLoopGroupç±»\n\n```java\n// è·å–ä¸‹ä¸€ä¸ªEventLoop\n    @Override\n    EventLoop next();\n\n//æ³¨å†Œchannel\n    ChannelFuture register(Channel channel);\n\n    // ä½¿ç”¨ChannelFutureæ³¨å†Œä¸€ä¸ªchannel\n    ChannelFuture register(ChannelPromise promise);\n```\n\n### Channel\n\n#### Channelæ¥å£\n\n```java\n//è·å–åŸºç¡€å±æ€§\nChannelId id()\nChannel parent()\nChannelConfig config()\nChannelMetadata metadata(): è·å–TCPå‚æ•°é…ç½®\n\n//è·å–è¿è¡Œæ—¶å±æ€§\nEventLoop eventLoop()\nChannel.Unsafe unsafe()\nChannelPipeline pipeline()\nByteBufAllocator alloc()\n\n//è·å–çŠ¶æ€\nboolean isOpen()\nboolean isRegistered()\nboolean isActive()\nboolean isWritable()\n\n//è·å–å’Œç½‘ç»œç›¸å…³å±æ€§\nSocketAddress localAddress()\nSocketAddress remoteAddress()\n\n//è·å–å„ç§Futureå’ŒPromise\nChannelFuture closeFuture()\nChannelPromise newPromise()\nChannelProgressivePromise newProgressivePromise()\nChannelFuture newSucceededFuture()\nChannelFuture newFailedFuture(Throwable cause)\nChannelPromise voidPromise()\n\n//IOæ“ä½œ\nChannelFuture bind(SocketAddress localAddress)\nChannelFuture bind(SocketAddress localAddress, ChannelPromise promise)\nChannelFuture connect(SocketAddress remoteAddress)\nChannelFuture connect(SocketAddress remoteAddress, SocketAddress localAddress)\nChannelFuture connect(SocketAddress remoteAddress, ChannelPromise promise)\nChannelFuture connect(SocketAddress remoteAddress, SocketAddress localAddress, ChannelPromise promise)\nChannelFuture disconnect()\nChannelFuture disconnect(ChannelPromise promise)\nChannelFuture close()\nChannelFuture close(ChannelPromise promise)\nChannelFuture deregister()\nChannelFuture deregister(ChannelPromise promise)\nChannel read()\nChannelFuture write(Object msg)\nChannelFuture write(Object msg, ChannelPromise promise)\nChannel flush()\nChannelFuture writeAndFlush(Object msg)\nChannelFuture writeAndFlush(Object msg, ChannelPromise promise)\n```\n\n### Channel Handler\n\n#### ChannelHandleræ¥å£\n\n```java\n//  åœ¨ChannelHandlerè¢«æ·»åŠ åˆ°å®é™…çš„contextå¹¶å‡†å¤‡å¤„ç†äº‹ä»¶åè¢«è°ƒç”¨\nvoid handlerAdded(ChannelHandlerContext ctx) throws Exception;\n\n// åœ¨ChannelHandlerè¢«ä»å®é™…çš„contextä¸­åˆ é™¤å¹¶ä¸å†å¤„ç†äº‹ä»¶åè¢«è°ƒç”¨\nvoid handlerRemoved(ChannelHandlerContext ctx) throws Exception;\n\n//æ ‡æ³¨ä¸€ä¸ªchannel handlerå¯ä»¥è¢«å¤šä¸ªchannelå®‰å…¨åœ°å…±äº«ã€‚\n@Inherited\n@Documented\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@interface Sharable {\n    // no value\n}\n```\n\n#### ChannelInboundHandlerAdapterç±»\n\nChannelInboundHandlerAdapteræ˜¯å¸¸è§„æƒ…å†µä¸‹ç”¨æˆ·å®ç°ChannelHandlerçš„ç»§æ‰¿ç±»ï¼Œå…¶ä¸ChannelHandleræ¥å£çš„å…³ç³»å¦‚ä¸‹ChannelInboundHandlerAdapterä¸­ä¸»è¦å®ç°äº†ChannelInboundHandleræ¥å£ã€‚\n\n![ChannelInboundHandlerAdapter](https://oss.celess.cn/web/blogimg/ChannelInboundHandlerAdapter.png)\n\n#### ChannelInboundHandleræ¥å£\n\n```java\nchannelRegistered(); ChannelHandlerContextçš„Channelè¢«æ³¨å†Œåˆ°EventLoop\nchannelUnregistered(); ChannelHandlerContextçš„Channelè¢«ä»EventLoopä¸­æ³¨é”€\nchannelActive(); ChannelHandlerContextçš„Channelè¢«æ¿€æ´»\nchannelInactive(); è¢«æ³¨å†Œçš„ChannelHandlerContextçš„Channelç°åœ¨è¢«å–æ¶ˆå¹¶åˆ°è¾¾äº†å®ƒç”Ÿå‘½å‘¨æœŸçš„ç»ˆç‚¹\nchannelRead(); å½“Channelè¯»å–åˆ°ä¸€ä¸ªæ¶ˆæ¯æ—¶è¢«è°ƒç”¨\nchannelReadComplete(); å½“å‰è¯»æ“ä½œè¯»å–çš„æœ€åä¸€ä¸ªæ¶ˆæ¯è¢«channelRead()æ–¹æ³•æ¶ˆè´¹æ—¶è°ƒç”¨. å¦‚æœChannelOption.AUTO_READ å±æ€§è¢«è®¾ç½®ä¸ºoff, ä¸ä¼šå†å°è¯•ä»å½“å‰channelä¸­è¯»å–inboundæ•°æ®, ç›´åˆ°ChannelHandlerContext.read()æ–¹æ³•è¢«è°ƒç”¨.\nuserEventTriggered(); å½“ç”¨æˆ·äº‹ä»¶è¢«è§¦å‘æ—¶è°ƒç”¨\nchannelWritabilityChanged(); å½“channelçš„å¯å†™çŠ¶æ€å˜åŒ–æ—¶è¢«è°ƒç”¨, å¯ä»¥é€šè¿‡Channel.isWritable()æ¥æ£€æŸ¥çŠ¶æ€.\nexceptionCaught(); å½“Throwableè¢«æŠ›å‡ºæ—¶è¢«è°ƒç”¨\n```\n\n#### ChannelPipelineæ¥å£\n\nChannelPipelineç”¨æ¥ç®¡ç†ChannelHandler\n\n```java\n\n// å¢åŠ ChannelHandler\n\n/* addFirst()æ–¹æ³•: å°†handleræ·»åŠ åˆ°pipelineçš„ç¬¬ä¸€ä¸ªä½ç½®\n * å‚æ•°ä¸­, nameæ˜¯å½“å‰è¦æ’å…¥çš„handlerçš„åå­—, å¦‚æœè®¾ç½®ä¸ºnullåˆ™è‡ªåŠ¨ç”Ÿæˆ.\n * æ³¨æ„: nameä¸å®¹è®¸é‡å¤, å¦‚æœæ·»åŠ çš„æ—¶å€™å‘ç°å·²ç»å­˜åœ¨åŒæ ·nameçš„handler, åˆ™ä¼šæŠ›å‡ºIllegalArgumentException.\n */\n ChannelPipeline addFirst(String name, ChannelHandler handler);\n ChannelPipeline addFirst(EventExecutorGroup group, String name, ChannelHandler handler);\n ChannelPipeline addFirst(ChannelHandlerInvoker invoker, String name, ChannelHandler handler);\n\n\n/* addLast()æ–¹æ³•\n * å’ŒaddFirst()æ–¹æ³•å®Œå…¨å¯¹åº”\n * addBefore()æ–¹æ³• \n * å‚æ•°ä¸­, nameå’ŒaddFirst()ä¸­ä¸€è‡´, ä½†æ˜¯å¤šäº†ä¸€ä¸ªbaseName, è¿™ä¸ªæ˜¯æ’å…¥çš„åŸºå‡†handlerçš„åå­—, å³è¦æ’åœ¨è¿™ä¸ªåå­—çš„handleå‰é¢.\n */\n\n ChannelPipeline addBefore(String baseName, String name, ChannelHandler handler);\n ChannelPipeline addBefore(EventExecutorGroup group, String baseName, String name, ChannelHandler handler);\n ChannelPipeline addBefore(ChannelHandlerInvoker invoker, String baseName, String name, ChannelHandler handler);\n\n/**\n * addAfter()æ–¹æ³•\n * å’ŒaddBefore()æ–¹æ³•å®Œå…¨å¯¹åº”.\n * å¦å¤–ä»¥ä¸Šæ–¹æ³•è¿˜æœ‰å¯ä»¥å‚æ•°çš„æ–¹æ³•é‡è½½, æ— éå°±æ˜¯å°†å‚æ•°ä¸­çš„ä¸€ä¸ªhandlerå˜æˆChannelHandler... handlers.\n */\n\n\n// åˆ é™¤ChannelHandler\n/**\n * remove()æ–¹æ³•æŸ¥æ‰¾ç»™å®šå‚æ•°çš„handler, å¹¶ä»ChannelPipelineä¸­åˆ é™¤å®ƒ, ç„¶åå°†è¢«åˆ é™¤çš„handleè¿”å›:\n * å¦‚æœåˆ é™¤æ—¶å‘ç°æ‰¾ä¸åˆ°è¦åˆ é™¤çš„ç›®æ ‡, è¿™äº›remove()æ–¹æ³•ä¼šæŠ›å‡ºNoSuchElementException, è¿™ä¸ªè¦å°å¿ƒå¤„ç†.\n */\nChannelPipeline remove(ChannelHandler handler);\nChannelHandler remove(String name);\n<T extends ChannelHandler> T remove(Class<T> handlerType);\nChannelHandler removeLast();\nChannelHandler removeFirst();\n \n\n// æ›¿æ¢ChannelHandler\n/**\n *replace()æ–¹æ³•ç”¨äºæ›¿æ¢åŸæ¥çš„handlerä¸ºæ–°çš„handler,\n * å¦‚æœæ›¿æ¢æ—¶å‘ç°æ‰¾ä¸åˆ°è¦æ›¿æ¢çš„ç›®æ ‡, replace()æ–¹æ³•ä¼šæŠ›å‡ºNoSuchElementException.\n */\nChannelPipeline replace(ChannelHandler oldHandler, String newName, ChannelHandler newHandler);\nChannelHandler replace(String oldName, String newName, ChannelHandler newHandler);\n<T extends ChannelHandler> T replace(Class<T> oldHandlerType, String newName, ChannelHandler newHandler);\n\n\n// è·å–ChannelHandler\n//å¦‚æœpipelineä¸ºç©º, åˆ™ä¸Šé¢çš„æ–¹æ³•è¿”å›nullå€¼.\nChannelHandler first();\nChannelHandler last();\nChannelHandler get(String name);\n<T extends ChannelHandler> T get(Class<T> handlerType);\n\n\n// è·å–ChannelHandlerContext\n//å¦‚æœpipelineä¸ºç©ºæˆ–è€…pipelineä¸­æ‰¾ä¸åˆ°è¦æ±‚çš„hanlder, åˆ™ä¸Šé¢çš„æ–¹æ³•è¿”å›nullå€¼.\nChannelHandlerContext firstContext();\nChannelHandlerContext lastContext();\nChannelHandlerContext context(ChannelHandler handler);\nChannelHandlerContext context(String name);\nChannelHandlerContext context(Class< ? extends ChannelHandler> handlerType);\n\n// å…¶ä»–ç®¡ç†handlerçš„æ–¹æ³•\nList<String> names();\nMap<String, ChannelHandler> toMap();\n//è·å–Channel\nChannel channel();\n// å¦‚æœå½“å‰pipeline è¿˜æ²¡æœ‰ç»‘å®šåˆ°channel, åˆ™ä½ è¿™é‡Œè¿”å›null.\n\n//fireæ–¹æ³•\n//fireå¼€å¤´çš„è¿™äº›æ–¹æ³•æ˜¯ç»™äº‹ä»¶é€šçŸ¥ç”¨çš„:\n\n// channelè¢«æ³¨å†Œåˆ°eventloop\nChannelPipeline fireChannelRegistered();\n\n// channelè¢«ä»eventloopæ³¨é”€\nChannelPipeline fireChannelUnregistered();\n\n// channelè¢«æ¿€æ´», é€šå¸¸æ˜¯è¿æ¥ä¸Šäº†\nChannelPipeline fireChannelActive();\n\n// channleè¢«é—²ç½®, é€šå¸¸æ˜¯è¢«å…³é—­\nChannelPipeline fireChannelInactive();\n\n// channelæ”¶åˆ°ä¸€ä¸ªThrowable, æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯javadocä¸­æ˜ç¡®æŒ‡å‡ºå‘ç”Ÿçš„åœ°ç‚¹æ˜¯"in one of its inbound operations"\nChannelPipeline fireExceptionCaught(Throwable cause);\n\n// channelæ”¶åˆ°ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶\nChannelPipeline fireUserEventTriggered(Object event);\n//è¿˜æœ‰å‡ ä¸ªæ–¹æ³•æ˜¯ç»™channelè¯»å†™çš„:\n\n// channelæ”¶åˆ°ä¿¡æ¯\nChannelPipeline fireChannelRead(Object msg);\n\nChannelPipeline fireChannelReadComplete();\nChannelPipeline fireChannelWritabilityChanged();\n//I/Oæ“ä½œæ–¹æ³•\nChannelFuture bind(SocketAddress localAddress);\nChannelFuture connect(SocketAddress remoteAddress);\nChannelFuture connect(SocketAddress remoteAddress, SocketAddress localAddress);\nChannelFuture disconnect();\nChannelFuture close();\nChannelFuture deregister();\n//ä»¥åŠå¸¦ChannelPromiseçš„å˜ä½“ç‰ˆæœ¬:\n\nChannelFuture bind(SocketAddress localAddress, ChannelPromise promise);\nChannelFuture connect(SocketAddress remoteAddress, ChannelPromise promise);\nChannelFuture connect(SocketAddress remoteAddress, SocketAddress localAddress, ChannelPromise promise);\nChannelFuture disconnect(ChannelPromise promise);\nChannelFuture close(ChannelPromise promise);\nChannelFuture deregister(ChannelPromise promise);\n//I/Oè¯»å†™æ–¹æ³•\nChannelPipeline read();\nChannelFuture write(Object msg);\nChannelFuture write(Object msg, ChannelPromise promise);\nChannelPipeline flush();\nChannelFuture writeAndFlush(Object msg, ChannelPromise promise);\nChannelFuture writeAndFlush(Object msg);\n```\n\n### Buffer\n\nByteBuf æœ‰ 2 éƒ¨åˆ†ï¼šä¸€ä¸ªç”¨äºè¯»ï¼Œä¸€ä¸ªç”¨äºå†™ã€‚æˆ‘ä»¬å¯ä»¥æŒ‰é¡ºåºçš„è¯»å–æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥è·³åˆ°å¼€å§‹é‡æ–°è¯»ä¸€éã€‚ æ‰€æœ‰çš„æ•°æ®æ“ä½œï¼Œ æˆ‘ä»¬åªéœ€è¦åšçš„æ˜¯è°ƒæ•´è¯»å–æ•°æ®ç´¢å¼•å’Œå†æ¬¡å¼€å§‹è¯»æ“ä½œã€‚ å†™å…¥æ•°æ®åˆ° ByteBuf åï¼Œ å†™å…¥ç´¢å¼•æ˜¯å¢åŠ çš„å­—èŠ‚æ•°é‡ã€‚ å¼€å§‹è¯»å­—èŠ‚åï¼Œ è¯»å–ç´¢å¼•å¢åŠ ã€‚\n\nä½¿ç”¨ Netty æ—¶ä¼šé‡åˆ° 3 ç§ä¸åŒç±»å‹çš„ ByteBufï¼š\n\n- **Heap Buffer( å †ç¼“å†²åŒº)** \n\næœ€å¸¸ç”¨çš„ç±»å‹æ˜¯ ByteBuf å°†æ•°æ®å­˜å‚¨åœ¨ JVM çš„å †ç©ºé—´ï¼Œè¿™æ˜¯é€šè¿‡å°†æ•°æ®å­˜å‚¨åœ¨æ•°ç»„çš„å®ç°ã€‚å †ç¼“å†²åŒºå¯ä»¥å¿«é€Ÿåˆ†é…ï¼Œå½“ä¸ä½¿ç”¨æ—¶ä¹Ÿå¯ä»¥å¿«é€Ÿé‡Šæ”¾ã€‚å®ƒè¿˜æä¾›äº†ç›´æ¥è®¿é—®æ•°ç»„çš„æ–¹æ³•ï¼Œé€šè¿‡ByteBuf.array()æ¥è·å– byte[]æ•°æ®ã€‚ è®¿é—®éå †ç¼“å†²åŒº ByteBuf çš„æ•°ç»„ä¼šå¯¼è‡´ UnsupportedOperationExceptionï¼Œ å¯ä»¥ä½¿ç”¨ByteBuf.hasArray()æ¥æ£€æŸ¥æ˜¯å¦æ”¯æŒè®¿é—®æ•°ç»„ã€‚\n\n- **Direct Buffer( ç›´æ¥ç¼“å†²åŒº)** \n\nç›´æ¥ç¼“å†²åŒºï¼Œåœ¨å †ä¹‹å¤–ç›´æ¥åˆ†é…å†…å­˜ã€‚ç›´æ¥ç¼“å†²åŒºä¸ä¼šå ç”¨å †ç©ºé—´å®¹é‡ï¼Œä½¿ç”¨æ—¶åº”è¯¥è€ƒè™‘åˆ°åº”ç”¨ç¨‹åºè¦ä½¿ç”¨çš„æœ€å¤§å†…å­˜å®¹é‡ä»¥åŠå¦‚ä½•é™åˆ¶å®ƒã€‚ç›´æ¥ç¼“å†²åŒºåœ¨ä½¿ç”¨ Socket ä¼ é€’æ•°æ®æ—¶æ€§èƒ½å¾ˆå¥½ï¼Œå› ä¸ºè‹¥ä½¿ç”¨é—´æ¥ç¼“å†²åŒºï¼ŒJVM ä¼šå…ˆå°†æ•°æ®å¤åˆ¶åˆ°ç›´æ¥ç¼“å†²åŒºå†è¿›è¡Œä¼ é€’ï¼›ä½†æ˜¯ç›´æ¥ç¼“å†²åŒºçš„ç¼ºç‚¹æ˜¯åœ¨åˆ†é…å†…å­˜ç©ºé—´å’Œé‡Šæ”¾å†…å­˜æ—¶æ¯”å †ç¼“å†²åŒºæ›´å¤æ‚ï¼Œ è€Œ Nettyä½¿ç”¨å†…å­˜æ± æ¥è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯ Netty ä½¿ç”¨å†…å­˜æ± çš„åŸå› ä¹‹ä¸€ã€‚ç›´æ¥ç¼“å†²åŒºä¸æ”¯æŒæ•°ç»„è®¿é—®æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é—´æ¥çš„è®¿é—®æ•°æ®æ•°ç»„\n\n- **Composite Buffer(å¤åˆç¼“å†²åŒº)** \n\nå¤åˆç¼“å†²åŒºï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒçš„ ByteBufï¼Œç„¶åæä¾›ä¸€ä¸ªè¿™äº› ByteBuf \n ç»„åˆçš„è§†å›¾ã€‚å¤åˆç¼“å†²åŒºå°±åƒä¸€ä¸ªåˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€çš„æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„ ByteBufï¼ŒJDK çš„ByteBuffer æ²¡æœ‰è¿™æ ·çš„åŠŸèƒ½ã€‚Netty æä¾›äº† CompositeByteBuf ç±»æ¥å¤„ç†å¤åˆç¼“å†²åŒºï¼ŒCompositeByteBufåªæ˜¯ä¸€ä¸ªè§†å›¾ï¼ŒCompositeByteBuf.hasArray()æ€»æ˜¯è¿”å› falseï¼Œå› ä¸ºå®ƒ å¯èƒ½åŒ…å«ä¸€äº›ç›´æ¥æˆ–é—´æ¥çš„ä¸åŒç±»å‹çš„ ByteBufã€‚\n\n**å¸¸ç”¨æ–¹æ³•ï¼š**\n\n- **è¯»æ“ä½œ ï¼šget/read getä¸ä¼šæ”¹å˜è¯»ç´¢å¼•ï¼Œreadä¼šæ”¹å˜è¯»ç´¢å¼•**\n\n![get/read](https://oss.celess.cn/web/blogimg/buffer_getread.png)              \n\n- **å†™æ“ä½œ set/write**\n\n ![set/write](https://oss.celess.cn/web/blogimg/buffer_setwrite.png)\n\n- **ç´¢å¼•ç®¡ç†**\n\n![ç´¢å¼•](https://oss.celess.cn/web/blogimg/buffer_index.png)\n\n- **æŸ¥æ‰¾**\n\n![æŸ¥æ‰¾](https://oss.celess.cn/web/blogimg/buffer_find.png)\n\n- **å‰¯æœ¬**\n\n![å‰¯æœ¬](https://oss.celess.cn/web/blogimg/buffer_cop.png)\n\n- **å…¶ä»–**\n\n![å…¶ä»–](https://oss.celess.cn/web/blogimg/buffer_other.png)\n\n### Codec\n\ncodecçš„ä½œç”¨å°±æ˜¯å°†åŸå§‹å­—èŠ‚æ•°æ®ä¸ç›®æ ‡ç¨‹åºæ•°æ®æ ¼å¼è¿›è¡Œäº’è½¬ã€‚ç½‘ç»œä¸­éƒ½æ˜¯ä»¥å­—èŠ‚ç çš„æ•°æ®å½¢å¼æ¥ä¼ è¾“æ•°æ®çš„ï¼Œcodec ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šdecoder(è§£ç å™¨)å’Œencoder(ç¼–ç å™¨)\n\n#### Decoder(è§£ç å™¨)\n\n##### ByteToMessageDecoderç±»\n\nByteToMessageDecoder æ˜¯ç”¨äºå°†å­—èŠ‚è½¬ä¸ºæ¶ˆæ¯ï¼ˆæˆ–å…¶ä»–å­—èŠ‚åºåˆ—ï¼‰ã€‚\n\nä½ ä¸èƒ½ç¡®å®šè¿œç«¯æ˜¯å¦ä¼šä¸€æ¬¡å‘é€å®Œä¸€ä¸ªå®Œæ•´çš„â€œä¿¡æ¯â€,å› æ­¤è¿™ä¸ªç±»ä¼šç¼“å­˜å…¥ç«™çš„æ•°æ®,ç›´åˆ°å‡†å¤‡å¥½äº†ç”¨äºå¤„ç†\n\nç±»æ–¹æ³•å¦‚ä¸‹\n\nâ€‹         ![ByteToMessageDecoder](https://oss.celess.cn/web/blogimg/ByteToMessageDecoder.png)\n\n```java\npublic void setSingleDecode(boolean singleDecode)// è®¾ç½®singleDecode\n\npublic boolean isSingleDecode() //å¦‚æœä¸ºtrueï¼Œåˆ™æ¯ä¸ªchannelReadï¼ˆï¼‰è°ƒç”¨ä»…è§£ç ä¸€æ¡æ¶ˆæ¯ã€‚å› ä¸ºä¼šå½±å“æ€§èƒ½,æ•…é»˜è®¤å€¼ä¸ºfalse\n\npublic void setCumulator(Cumulator cumulator) // è®¾ç½®ByteToMessageDecoder.Cumulatorç”¨äºç´¯ç§¯æ¥æ”¶åˆ°çš„ByteBufã€‚\n\npublic void setDiscardAfterReads(int discardAfterReads) // è®¾ç½®è°ƒç”¨discardsomereadbytesï¼ˆï¼‰çš„è¯»å–æ¬¡æ•°ï¼Œä»¥ä¾¿é‡Šæ”¾å†…å­˜\n```\n\n##### ReplayingDecoderç±»\n\nReplayingDecoder æ˜¯ byte-to-message è§£ç çš„ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡åŸºç±»ï¼Œè¯»å–ç¼“å†²åŒºçš„æ•°æ®ä¹‹å‰éœ€è¦æ£€æŸ¥ç¼“å†²åŒºæ˜¯å¦æœ‰è¶³å¤Ÿçš„å­—èŠ‚ï¼Œä½¿ç”¨ReplayingDecoderå°±æ— éœ€è‡ªå·±æ£€æŸ¥ï¼›è‹¥ByteBufä¸­æœ‰è¶³å¤Ÿçš„å­—èŠ‚ï¼Œåˆ™ä¼šæ­£å¸¸è¯»å–ï¼›è‹¥æ²¡æœ‰è¶³å¤Ÿçš„å­—èŠ‚åˆ™ä¼šåœæ­¢è§£ç ã€‚\n\n**ç±»æ–¹æ³•ï¼š**\n\n![ReplayingDecoder](https://oss.celess.cn/web/blogimg/ReplayingDecoder.png)\n\n##### MessageToMessageDecoderç±»\n\nç”¨äºä»ä¸€ç§æ¶ˆæ¯è§£ç ä¸ºå¦å¤–ä¸€ç§æ¶ˆæ¯\n\n![MessageToMessageDecoder](https://oss.celess.cn/web/blogimg/MessageToMessageDecoder.png)\n\n#### Encoder(ç¼–ç å™¨)\n\n##### MessageToByteEncoderç±»\n\nå°†æ¶ˆæ¯ç¼–ç ä¸ºå­—èŠ‚\n\n![MessageToByteEncoder](https://oss.celess.cn/web/blogimg/MessageToByteEncoder.png)',
        NULL, 1, 1, 305, 0, 0, 2, '2019-10-14 14:42:29', NULL, 1, 0),
       (1292, 'Springboot ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡',
        'Springboot ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡\n\néœ€æ±‚\n\né›†æˆæµ‹è¯•\néœ€è¦ä½¿ç”¨ç³»ç»Ÿçš„èµ„æº\n......\n\n\n\nä½¿ç”¨\næ ¼å¼ ${ç³»ç»Ÿå˜é‡å:é»˜è®¤å€¼}eg: ${JAVA_HOME:/java/home}\nåœ¨propertiesæ–‡ä»¶ä¸­  com.test=${JAVA_HOME:/java/home}åœ¨ymlæ–‡ä»¶ä¸­ com.test: ${JAVA_HOME:/java/home}\n',
        '# Springboot ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡\n\n## éœ€æ±‚\n- é›†æˆæµ‹è¯•\n- éœ€è¦ä½¿ç”¨ç³»ç»Ÿçš„èµ„æº\n- ......\n\n## ä½¿ç”¨\næ ¼å¼ ${ç³»ç»Ÿå˜é‡å:é»˜è®¤å€¼}\neg: `${JAVA_HOME:/java/home}`\n\nåœ¨propertiesæ–‡ä»¶ä¸­ ` com.test=${JAVA_HOME:/java/home}`\nåœ¨ymlæ–‡ä»¶ä¸­` com.test: ${JAVA_HOME:/java/home}`\n\n',
        NULL, 1, 1, 340, 0, 0, 2, '2019-12-04 02:36:54', NULL, 1, 0),
       (1293, 'æ•™ä½ åŠ¨æ‰‹å†™ä¸€ä¸ªåˆ·è¯¾è„šæœ¬',
        'åŠ¨æ‰‹å†™è‡ªåŠ¨æŒ‚æœºåˆ·è¯¾è„šæœ¬\n\n\nå¤±è¸ªäººå£åˆå›æ¥äº†ï¼ŒğŸ¤£ğŸ¤£\n\n\n\nå—ç–«æƒ…å½±å“ï¼Œæ‰€æœ‰çš„è¯¾ç¨‹éƒ½æ˜¯ä»¥ç½‘è¯¾å½¢å¼å­˜åœ¨ï¼Œååˆè¦è‡ªå·±é€‰ä¸€ä¸ªé€šè¯†ç½‘è¯¾ï¼Œè¿™æ— ç–‘è®©æœ¬å°±æ‚²æƒ¨çš„è®¤è¯†é›ªä¸ŠåŠ éœœï¼Œäºæ˜¯ï¼Œæˆ‘ç ”ç©¶äº†ä¸€ä¸‹æ™ºæ…§æ ‘çš„éƒ¨åˆ†apiæ¥å£ï¼Œç¼–å†™äº†ä¸€ä¸ªè¾ƒç®€å•çš„æŒ‚æœºè„šæœ¬ã€‚æ­¤ç¯‡æ–‡ç« ä»¥åšè®°å½•ã€‚\né™„ä¸Šshi''pè§†é¢‘æ’­æ”¾ç•Œé¢çš„apiè¯·æ±‚åˆ—è¡¨\nå…¶ä¸­\n\n getLoginUserInfo ä¸ºgetè¯·æ±‚ï¼Œ\n\né™„å¸¦å‚æ•° ......',
        '# åŠ¨æ‰‹å†™è‡ªåŠ¨æŒ‚æœºåˆ·è¯¾è„šæœ¬\n\n> å¤±è¸ªäººå£åˆå›æ¥äº†ï¼ŒğŸ¤£ğŸ¤£\n\nå—ç–«æƒ…å½±å“ï¼Œæ‰€æœ‰çš„è¯¾ç¨‹éƒ½æ˜¯ä»¥ç½‘è¯¾å½¢å¼å­˜åœ¨ï¼Œååˆè¦è‡ªå·±é€‰ä¸€ä¸ªé€šè¯†ç½‘è¯¾ï¼Œè¿™æ— ç–‘è®©æœ¬å°±æ‚²æƒ¨çš„è®¤è¯†é›ªä¸ŠåŠ éœœï¼Œäºæ˜¯ï¼Œæˆ‘ç ”ç©¶äº†ä¸€ä¸‹æ™ºæ…§æ ‘çš„éƒ¨åˆ†apiæ¥å£ï¼Œç¼–å†™äº†ä¸€ä¸ªè¾ƒç®€å•çš„æŒ‚æœºè„šæœ¬ã€‚æ­¤ç¯‡æ–‡ç« ä»¥åšè®°å½•ã€‚\n\né™„ä¸Šshi''pè§†é¢‘æ’­æ”¾ç•Œé¢çš„apiè¯·æ±‚åˆ—è¡¨\n![api request](https://oss.celess.cn/web/QQ%E5%9B%BE%E7%89%8720200317004825.png)\n\nå…¶ä¸­\n- ` getLoginUserInfo` ä¸ºgetè¯·æ±‚ï¼Œ\n  - é™„å¸¦å‚æ•°    **dateFormate**ï¼š æ—¶é—´æˆ³ï¼Œ\n - è¿”å›çš„æ•°æ®ä¸­åŒ…å«ç™»å½•è€…çš„å§“åå’Œä¸€ä¸ª ` uuid` , è¿™ä¸ªuuid æ¯”è¾ƒé‡è¦åé¢çš„å‡ ä¸ªè¯·æ±‚éƒ½éœ€è¦ä»¥å®ƒä½œä¸ºå‚æ•°ä¼ é€’\n\n-  ` videolist` ä¸ºpostè¯·æ±‚ï¼Œ\n - æºå¸¦å‚æ•° **recruitAndCourseId**: è¿™ä¸ªå¯ä»¥ä»åœ°å€æ ä¸­è·å–ï¼Œç›®æµ‹æ˜¯å¯¹è¯¾ç¨‹å·å¤„ç†è¿‡åå¾—åˆ°çš„å€¼ï¼Œ**uuid**:ä¸Šé¢æåˆ°è¿‡çš„uuid ï¼Œ**dateFormate**:æ—¶é—´æˆ³ï¼Œ\n - è¿”å›æ•°æ®ä¸ºæ’­æ”¾åˆ—è¡¨çš„ä¿¡æ¯  åŒ…å«è§†é¢‘id  è¯¾ç¨‹id  è¯¾ç¨‹åç§°ç­‰ç­‰ï¼Œæœ¬æ¬¡ç”¨åˆ°çš„æ˜¯å…¶ä¸­çš„` name` `lessonId`  `id`å†…å®¹ã€‚å¤„ç†è¿‡æ»¤åå­˜å‚¨åœ¨ä¸€ä¸ªmapä¸­\n\n- ` loadVideoPointerInfo` ä¸ºpostè¯·æ±‚\n - æºå¸¦å‚æ•° **lessonId**: å½“å‰æ’­æ”¾å†…å®¹çš„å°èŠ‚è¯¾ç¨‹id  éæ€»çš„è¯¾ç¨‹id ï¼Œ**lessonVideoId**: æ’­æ”¾çš„è§†é¢‘id ï¼ˆ* æ­¤å­—æ®µéå¿…å¸¦ï¼Œä»…æ’­æ”¾çš„å°èŠ‚è¯¾ç¨‹å¤„äºå°è¯¾ç¨‹æ—¶æ‰éœ€è¦ç”¨ä»¥åŒºåˆ† ä¾‹å¦‚å½“2.3ä½œä¸ºå•ç‹¬ä¸€å°èŠ‚æ—¶ ä¸éœ€è¦æ­¤å­—æ®µï¼Œè‹¥2.3 æœ‰å­è¯¾ç¨‹æ—¶ï¼Œ2.3.1 2.3.2....å‡éœ€è¦è¯¥å­—æ®µ *ï¼‰**uuid**: ç¬¬ä¸€ä¸ªapiä¸­çš„ï¼Œ**dateFormate**: æ—¶é—´æˆ³\n - è¿”å›æ•°æ® è¿”å›æ­¤è§†é¢‘æ‰€æœ‰çš„ç­”é¢˜æ—¶é—´ç‚¹ï¼Œå³å¤šå°‘åˆ†å¤šå°‘ç§’ä¼šå‡ºç°ç­”é¢˜\n \n- `lessonPopupExam` ä¸ºpostè¯·æ±‚\n   - æºå¸¦å‚æ•° **lessonId**: åŒä¸Š **lessonVideoId**: åŒä¸Š    **time**: ç­”é¢˜çš„æ—¶é—´ç‚¹ å¯ç”±ä¸Šä¸€ä¸ªapiè¿”å›æ•°æ®ä¸­è·å– **uuid**: åŒä¸Š **dateFormate**:åŒä¸Š\n   -  è¿”å›æ•°æ® è¯¥æ•°æ®è¿”å›é—®é¢˜åŠç­”æ¡ˆ é€‰é¡¹åˆ—è¡¨ä¸­æœ‰ä¸ªresultå­—æ®µ è¯¥å­—æ®µä¸º1åˆ™è¯´æ˜è¯¥é€‰é¡¹æ—¶ç­”æ¡ˆä¹‹ä¸€ã€‚\n   \n\nåŸºäºä»¥ä¸Šå››ä¸ªapiåœ¨å¯¹é¡µé¢çš„æ ‡ç­¾è¿›è¡Œé€‰æ‹©ï¼Œé€šè¿‡jqueryå¯¹é¡µé¢è¿›è¡Œæ“ä½œ æ¨¡æ‹Ÿå‡ºç”¨æˆ·çš„ç‚¹å‡»æ“ä½œï¼Œapiè¯·æ±‚æˆ‘æ²¡æœ‰è¿‡å¤šçš„è¿›è¡Œåˆ†æå’Œä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¸ªæ•°æ®æ˜¯ç›´æ¥å‘é€å›æœåŠ¡ç«¯ï¼Œè¯·æ±‚å¤ªå¤šå®¹æ˜“å‡ºçº°æ¼ï¼Œè¢«å‘ç°å‡ºç«¯å€ªï¼Œæ‰€ä»¥è„šæœ¬ä¸­çš„ç½‘ç»œè¯·æ±‚åˆ™èƒ½çœå°±çœã€‚\näºæ˜¯æœ‰äº†å¦‚ä¸‹çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬\nä»£ç è´¨é‡æœ‰ç‚¹ä½ï¼Œå„ä½å°±å½“çœ‹ä¸ªä¹å§ï¼Œæœ›å„ä½è½»ç‚¹å–·ã€‚\n\n``` typeScript\ndeclare let $;\nlet courseId: string;\nlet lessonVideoId: number;\nlet needVideoId: boolean;\nlet uid = null;\nlet map = new Map();\nlet runTime = 0;\nlet autoAnswerTimes = 0;\n\n// @ts-ignore\n\nclass Time {\n    private _hour: number;\n    private _minute: number;\n    private _second: number;\n\n    constructor(time: string) {\n        this._hour = parseInt(time.split(`:`)[0]);\n        this._minute = parseInt(time.split(`:`)[1]);\n        this._second = parseInt(time.split(`:`)[2]);\n    }\n\n    set hour(value: number) {\n        this._hour = value;\n    }\n\n    set minute(value: number) {\n        this._minute = value;\n    }\n\n    set second(value: number) {\n        this._second = value;\n    }\n\n    tosec() {\n        return this._hour * 3600 + this._minute * 60 + this._second;\n    }\n}\n\nclass Course {\n    name: string;\n    lessonId: number;\n    lessonVideoId: number;\n    isSmallLesson: boolean;\n\n\n    constructor(name: string, lessonId: number, lessonVideoId: number, isSmallLesson: boolean) {\n        this.name = name;\n        this.lessonId = lessonId;\n        this.lessonVideoId = lessonVideoId ? lessonVideoId : null;\n        this.isSmallLesson = isSmallLesson;\n    }\n}\n\n\nlet isPlaying: boolean = true;\nlet needAnswer: boolean = false;\n\nlet currentTime: Time;\nlet totalTime: Time;\nlet currentPlayIndex = -1;\n\ngetUuid();\n\nsetInterval(function () {\n    console.clear();\n    getCurrentCourseId();\n\n    updateRecTime();\n    checkNeedAnswer();\n    preporeInfo();\n    if (needAnswer) {\n        answerT();\n    }\n    if (currentTime.tosec() === totalTime.tosec()) {\n        // ç‚¹å‡»æ’­æ”¾ä¸‹ä¸€èŠ‚\n        clickNextNode();\n        getCourseId();\n    } else {\n        if (!isPlaying) {\n            clickScreenTocontinue();\n        }\n    }\n    record(8);\n}, 8000);\n\nfunction record(space: number) {\n    runTime += space;\n    console.log(`å·²ä½¿ç”¨ï¼š${runTime}ç§’\\nå·²ç­”é¢˜ï¼š${autoAnswerTimes}æ¬¡`)\n}\n\nfunction getCourseId() {\n\n    // è·å–courseId\n    $.ajax({\n        type: "POST",\n        url: "https://studyservice.zhihuishu.com/learning/videolist",\n        data: {\n            recruitAndCourseId: GetQueryString(''recruitAndCourseId''),\n            uuid: uid,\n            dateFormate: Date.parse(Date())\n        },\n        contentType: "application/x-www-form-urlencoded",\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function (data1) {\n            // è·å–å­¦ä¹ è¿›åº¦\n            data1.data.videoChapterDtos.forEach(item => {\n                item.videoLessons.forEach(item2 => {\n                    if (item2.ishaveChildrenLesson) {\n                        item2.videoSmallLessons.forEach(item3 => {\n                            map.set(item3.id, new Course(item3.name, item3.lessonId, item3.id, true))\n                        })\n                    } else {\n                        map.set(item2.id, new Course(item2.name, item2.id, item2.id, false))\n                    }\n                })\n            });\n        }\n    })\n}\n\nfunction getCurrentCourseId() {\n    let text = $(".list .current_play").text();\n    map.forEach(value => {\n        if (text.indexOf(value.name) != -1) {\n            courseId = value.lessonId;\n            lessonVideoId = value.lessonVideoId;\n            needVideoId = value.isSmallLesson;\n            return;\n        }\n    });\n    // console.log(`courseId=${courseId}`)\n}\n\n\nfunction getUuid() {\n    $.ajax({\n        type: "GET",\n        url: "https://onlineservice.zhihuishu.com/login/getLoginUserInfo",\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function (data) {\n            if (data.result == null || data.result.uuid == null) {\n                return\n            }\n            uid = data.result.uuid;\n            getCourseId();\n        }\n    });\n}\n\nlet lastTimePlaying = new Time("00:00:00");\n\n/**\n * è®°å½•æ’­æ”¾æ—¶é—´å’Œæ€»æ—¶é—´\n */\nfunction updateRecTime() {\n    currentTime = new Time($(".currentTime").text());\n    if (lastTimePlaying) {\n        isPlaying = lastTimePlaying.tosec() != currentTime.tosec();\n        console.log(isPlaying ? "æ’­æ”¾ä¸­" : "æš‚åœä¸­");\n    }\n    totalTime = new Time($(".duration").text());\n    // console.log(`lastTimePlaying : ${lastTimePlaying.tosec()} \\ncurrentTime: ${currentTime.tosec()} \\ntotalTime:  ${totalTime.tosec()}`);\n    lastTimePlaying = currentTime;\n\n}\n\nlet array;\n\nfunction preporeInfo() {\n    let list = $(".list .clearfix, .video").toArray();\n    array = Array();\n    list.forEach((item, index) => {\n        if (!$(item).hasClass(''video'')) {\n            // åˆ é™¤title\n            return;\n        }\n        array.push(item);\n\n    });\n    array.forEach((item, index) => {\n        if ($(item).hasClass(''current_play'')) {\n            currentPlayIndex = index;\n        }\n    });\n}\n\n/**\n * ç‚¹å‡»æ’­æ”¾ä¸‹ä¸€èŠ‚\n */\nfunction clickNextNode() {\n    // å½“å‰æ­£åœ¨æ’­æ”¾çš„item\n    preporeInfo();\n\n    $(array[currentPlayIndex + 1]).click();\n    clickScreenTocontinue();\n}\n\n\n/**\n * æ£€æŸ¥æ˜¯å¦éœ€è¦åšé¢˜\n */\nfunction checkNeedAnswer() {\n    $(".el-dialog__header h4").toArray().forEach(item => {\n        //console.log($(item).text());\n        if ($(item).text() === "å¼¹é¢˜æµ‹éªŒ") {\n            needAnswer = true;\n        }\n    });\n}\n\n/**\n * ç­”é¢˜\n * ç­”æ¡ˆåœ¨apiä¸­\n */\nfunction answerT() {\n    let dataTime: string = null;\n    let request: {\n        lessonId: string,\n        uuid: string,\n        dateFormate: number,\n        lessonVideoId?: number;\n    } = {\n        lessonId: courseId,\n        uuid: uid,\n        dateFormate: Date.parse(Date()),\n    };\n    if (needVideoId) {\n        request.lessonVideoId = lessonVideoId;\n\n    }\n    // è·å–æš‚åœæ—¶é—´ç‰‡\n    $.ajax({\n        type: "POST",\n        url: "https://studyservice.zhihuishu.com/popupAnswer/loadVideoPointerInfo",\n        data: request,\n        contentType: "application/x-www-form-urlencoded",\n        xhrFields: {\n            withCredentials: true\n        },\n        success: function (data) {\n            dataTime = data.data.questionPoint[0].timers;\n            if (dataTime == null) {\n                console.log("è·å–ç­”é¢˜æ—¶é—´ç‚¹å¤±è´¥");\n                return\n            }\n            let req: {\n                lessonId: string\n                time: string\n                uuid: string,\n                dateFormate: number,\n                lessonVideoId?: number\n            } = {\n                lessonId: courseId,\n                time: dataTime,\n                uuid: uid,\n                dateFormate: Date.parse(Date()),\n            };\n            if (needVideoId) {\n                req.lessonVideoId = lessonVideoId;\n\n            }\n            // è·å–ç­”æ¡ˆ\n            $.ajax({\n                type: "POST",\n                url: "https://studyservice.zhihuishu.com/popupAnswer/lessonPopupExam",\n                data: req,\n                contentType: "application/x-www-form-urlencoded",\n                xhrFields: {\n                    withCredentials: true\n                },\n                success: function (data) {\n                    // é¢˜ç›®é€‰é¡¹\n                    let answers = Array();\n                    let t = data.data.lessonTestQuestionUseInterfaceDtos[0].testQuestion.questionOptions;\n                    let ans = "";\n                    t.forEach((item, index) => {\n                        if (item.result === "1") {\n                            ans += (item.content + "\\t");\n                            answers.push(index);\n                        }\n                    });\n                    console.log("ç­”æ¡ˆï¼š" + ans);\n                    clickAnswer(answers);\n                }\n            })\n        }\n    });\n}\n\n\n// ç‚¹å‡»é€‰é¡¹\nfunction clickAnswer(answers) {\n    let liArray = $(".el-dialog .el-dialog__body .topic-list .topic-item").toArray();\n    answers.forEach((item) => {\n        // ç‚¹å‡»é€‰é¡¹\n        if (!$($(liArray[item])[0].lastChild).hasClass(''active'')) {\n            $(liArray[item]).click()\n        }\n    });\n    // ç‚¹å‡»å…³é—­\n    $(".el-dialog .el-dialog__footer .btn").toArray().forEach(item => {\n        if ($(item)[0].className === "btn") {\n            $(item).click()\n        }\n    });\n    autoAnswerTimes++;\n    needAnswer = false;\n    // ç‚¹å‡»æ’­æ”¾\n    clickScreenTocontinue();\n}\n\n// ç‚¹å‡»æ’­æ”¾\nfunction clickScreenTocontinue() {\n    $(".videoArea").click();\n}\n\n\nfunction GetQueryString(name) {\n    let query = window.location.href.substr(window.location.href.indexOf(''?'') + 1);\n    let vars = query.split("&");\n    for (let i = 0; i < vars.length; i++) {\n        let pair = vars[i].split("=");\n        if (pair[0] == name) {\n            return pair[1];\n        }\n    }\n    return;\n}\n\n```\n',
        NULL, 1, 1, 236, 0, 0, 5, '2020-03-16 17:22:35', NULL, 1, 0);


INSERT INTO `article_tag` (`at_id`, `a_id`, `t_id`)
VALUES (1, 3, 7),
       (2, 5, 8),
       (3, 5, 9),
       (4, 10, 9),
       (5, 8, 10),
       (6, 993, 10),
       (7, 10, 11),
       (8, 12, 12),
       (9, 12, 13),
       (10, 993, 13),
       (11, 1292, 13),
       (12, 47, 14),
       (13, 47, 15),
       (14, 1018, 16),
       (15, 1286, 17),
       (16, 1286, 18),
       (17, 1287, 19),
       (18, 1287, 20),
       (19, 1288, 21),
       (20, 1289, 22),
       (21, 1290, 23),
       (22, 1291, 24),
       (23, 1292, 25),
       (24, 1293, 26),
       (25, 1293, 27);


INSERT INTO `comment` (`co_id`, `co_page_path`, `co_content`, `co_date`, `co_status`, `co_pid`, `co_from_author_id`,
                       `co_to_author_id`)
VALUES (1, '/a', 'test comment', '2020-05-22 23:57:17', 0, -1, 1, null),
       (2, '/a', 'test comment', '2020-05-22 23:57:31', 0, -1, 1, null);



INSERT INTO `links` (`l_id`, `l_name`, `l_is_open`, `l_url`, `l_icon_path`, `l_desc`, `is_delete`)
VALUES (1, 'ç¨‹åºçŒ¿å¼ å…ˆç”Ÿ', 1, 'https://zhyocean.cn', '', '', 0),
       (2, 'é™ˆæ™“é›·çš„æŠ€æœ¯åšå®¢', 1, 'http://www.csxll.top', '', '', 0),
       (3, 'ç½—ç‚œæ°ä¸ªäººåšå®¢', 1, 'http://www.lwjppz.cn', '', '', 0),
       (4, 'å¼ºå­åšå®¢', 1, 'https://www.lqnb.xyz', '', '', 0),
       (5, 'åŸåˆ›åšå®¢æŠ€æœ¯è”ç›Ÿ', 1, 'http://techblog.pub/', '', '', 0),
       (6, 'WarlockMT', 1, 'https://www.warlock.live/', '', '', 0),
       (7, 'æµ‹è¯•ä¾‹1', 1, 'https://t1.celess.cn/', '', '', 1),
       (8, 'æµ‹è¯•ä¾‹2', 1, 'https://t2.celess.cn/', '', '', 1),
       (9, 'æµ‹è¯•ä¾‹3', 1, 'https://t3.celess.cn/', '', '', 1),
       (10, 'æµ‹è¯•ä¾‹4', 1, 'https://t4.celess.cn/', '', '', 1);



INSERT INTO `visitor` (`v_id`, `v_date`, `v_ip`, `v_user_agent`, `is_delete`)
VALUES (1, '2019-04-16 15:13:47', '183.94.121.106',
        'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36',
        0),
       (17, '2019-04-16 15:44:46', '183.94.121.106',
        'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36',
        0),
       (18, '2019-04-16 15:45:36', '183.94.121.106',
        'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36',
        0),
       (19, '2019-04-16 17:28:31', '111.206.221.27',
        'Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)', 0),
       (20, '2019-04-17 01:24:55', '111.206.221.35',
        'Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)', 0),
       (21, '2019-04-17 09:20:06', '111.206.198.72',
        'Mozilla/5.0 (compatible; Baiduspider-render/2.0; +http://www.baidu.com/search/spider.html)', 0),
       (22, '2020-07-10 00:45:30', '220.168.55.117',
        'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36',
        0),
       (23, '2020-07-10 04:45:11', '220.168.55.117',
        'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36',
        0),
       (24, '2020-07-10 09:04:45', '183.67.60.166',
        'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36',
        0),
       (25, '2020-07-10 09:08:58', '120.208.182.220',
        'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36',
        0);

INSERT INTO `web_update` (`wu_id`, `wu_info`, `wu_time`, `is_delete`)
VALUES (1, '1.æ–°å¢ç½‘ç«™æ›´æ–°æ¥å£api \n2.æ–°å¢å‹é“¾api \n3.ä¼˜åŒ–äº†æ–‡ç« æ“ä½œapiçš„é€»è¾‘', '2019-05-12 09:10:35', 0),
       (2, 'æ–°å¢æ›´æ–°å’Œå‹é“¾é¡µé¢', '2019-05-12 15:58:13', 0),
       (3, 'ç«™ç‚¹æ¥å…¥https', '2019-05-13 00:16:33', 0),
       (4, '1.å¼ƒç”¨Amaze ~ å¦¹å­ UI ï¼Œæ‹¥æŠ±angularå’Œant design\n2.ç§»åŠ¨ç«¯é€‚é…', '2019-05-17 15:37:04', 0),
       (5, '1.ä¼˜åŒ–äº†æ–‡ç« é¡µé¢çš„ç»†èŠ‚\n2.å‘å¸ƒæ–‡ç« æ—¶å¯¹æ–‡ç« è¿›è¡Œæš‚å­˜ï¼ˆä»å¾…ä¼˜åŒ–ï¼‰\n3.ä¿®æ”¹ant designçš„å¼•å…¥æ–¹å¼', '2019-05-21 15:32:21', 0),
       (6, 'æ–°å¢å›å¤åŠŸèƒ½ï¼Œæ–‡ç« çš„è¯„è®ºå’Œç•™è¨€éƒ½å¯ä»¥å›å¤å•¦~~', '2019-05-25 12:42:18', 0),
       (7, 'å·å·çš„æ”¾ç½®äº†ä¸€ä¸ª404é¡µé¢', '2019-05-30 11:53:28', 0),
       (8, 'ä¿®æ”¹"åˆ†ç±»","æ ‡ç­¾"é¡µé¢çš„å¸ƒå±€æ ·å¼', '2019-06-27 09:17:00', 0),
       (9, '1.è°ƒæ•´åç«¯æ¥å£\n2.ä¿®æ”¹åç«¯çš„daoå±‚é€»è¾‘', '2019-07-04 14:20:30', 0),
       (10, '1. æ–°å¢é‚®ç®±éªŒè¯\n2. æ–°å¢æ‰¾å›å¯†ç ', '2019-07-13 03:13:48', 0),
       (11, '1. å‰å°å±•ç¤ºé¡µé¢é‡æ„ï¼Œè§„èŒƒåŒ–ä»£ç \n2. ä¿®æ”¹éƒ¨åˆ†ç»†èŠ‚\n3. ä¿®å¤æ— æ³•ç•™è¨€/è¯„è®ºçš„bug', '2019-07-20 03:18:12', 0),
       (12, '1.ä¿®æ”¹ç™»å½•é¡µé¢çš„æ˜¾ç¤ºæ–¹å¼\n2.ç§»é™¤fontawesome', '2019-07-28 12:04:05', 0),
       (13, 'æ–°å¢ç”¨æˆ·ç®¡ç†', '2019-09-07 14:41:18', 0),
       (14, 'å¢åŠ å¯¹emojiçš„æ”¯æŒ,è¯„è®ºï¼Œç•™è¨€ï¼Œæ–‡ç« çš„æ ‡é¢˜å’Œæ–‡ç« å†…å®¹å‡æ”¯æŒemojiè¡¨æƒ…', '2019-09-17 10:27:58', 0),
       (15, 'æ–°å¢tocç›®å½•ï¼Œå¹¶é€‚æ—¶æ˜¾ç¤º', '2019-10-15 03:13:47', 0),
       (16, 'ç™»é™†å¤„ç†è¿‡ç¨‹å˜æ›´ï¼Œç™»é™†æ—¶é•¿ä¿®æ”¹è‡³5å¤©', '2019-11-22 11:39:03', 0),
       (17, 'ç•Œé¢æ”¹ç‰ˆv2.0', '2020-04-06 11:00:53', 0);

